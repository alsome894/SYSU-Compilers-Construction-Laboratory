## 4.1 **ËÆæËÆ°** **Oberon-0** **ËØ≠Ë®ÄÁöÑÁøªËØëÊ®°Âºè**

### 4.1.1 ÊîπÈÄ†ÊñáÊ≥ï

#### 4.1.1.1 Ê∂àÈô§‰∫å‰πâÊÄß

- ÂåÖÊã¨ÈÄíÂΩí‰∏ãÈôçÂú®ÂÜÖÁöÑ‰ªª‰ΩïÁøªËØëÊ®°ÂºèÈÉΩÂ∫îËØ•Ê∂àÈô§‰∫å‰πâÊÄß
- Âú®ex1Â∑≤ÁªèËÆ®ËÆ∫ËøáÔºåÂèØ‰ª•ËÆ§‰∏∫Oberon-0ÊòØÊ≤°Êúâ‰∫å‰πâÊÄßÁöÑÔºåÊâÄ‰ª•ËøôÈÉ®ÂàÜ‰∏çÈúÄË¶Å‰ªª‰ΩïÊîπÈÄ†

#### 4.1.1.2 Ê∂àÈô§Á©∫‰∫ßÁîüÂºè

- Â∞ÜÊØè‰∏™‰∫ßÁîüÂºèÂè≥ÈÉ®ÁöÑÈùûÁªàÁªìÁ¨¶ÂùáÊõøÊç¢ÊàêùõÜÔºåÂ¶ÇÊûúËØ•ÈùûÁªàÁªìÁ¨¶ËÉΩÊé®Âá∫ùõÜÁöÑËØù

- ÊØîÂ¶ÇËÄÉËôë‰∏ãÈù¢ex3‰∏≠`procedure_call`ÂØπÂ∫îÁöÑ‰∫ßÁîüÂºèÔºå`actual_parameters`ËÉΩÊé®Âá∫ùõÜ

  ```java
  procedure_call ::=	IDENTIFIER: procedureName actual_parameters: actualParameters
  		            {:
                       ...
  		            :}
                   ;
  
  actual_parameters::=  /* epsilon */
                     |  LeftParenthesis expression_list:parameters RightParenthesis 						{:                                                                                  	...                                                                           :}
                     ;
  ```



- ÊääÊâÄÊúâÂèØËÉΩÊÄßÈÉΩÊõøÊç¢Âá∫Êù•

- ÊØîÂ¶ÇËÄÉËôë‰ª£ÂÖ•`actual_parameters`Êé®Âá∫ùõÜÂêéÁöÑÂè≥ÈÉ®

  ```java
  procedure_call ::=	IDENTIFIER: procedureName actual_parameters: actualParameters
  		            {:
                       ...
  		            :}
  				|	IDENTIFIER: procedureName
  		            {:
                       ...
  		            :}
                   ;
  
  actual_parameters::=  LeftParenthesis expression_list:parameters RightParenthesis 						{:                                                                                  ...                                                                           :}
                     ;
  ```

  

- ‰ΩÜÊòØÊú¨Ê¨°ÂÆûÈ™å‰∏çËÄÉËôëÊ∂àÈô§Á©∫‰∫ßÁîüÂºèÔºö
  - ‰∏ÄÊñπÈù¢ËøôÊ†∑‰øÆÊîπÊñáÊ≥ïÁöÑÂºÄÈîÄÂ§™Â§ßÔºåÈúÄË¶ÅÈÄíÂΩíÂú∞ËÄÉËôëÊâÄÊúâÂèØËÉΩÊé®Âá∫Á©∫‰∫ßÁîüÂºèÁöÑÈùûÁªàÁªìÁ¨¶„ÄÅÂÜçÈÄíÂΩíÂú∞Â∞ÜÂÖ∂‰ª£ÂÖ•ÂÖ∂ÊâÄÂú®ÁöÑÊâÄÊúâ‰ΩçÁΩÆÔºåÂêåÊó∂ÊúâÂèØËÉΩ‰ºöÂØºËá¥ÊñáÊ≥ïÁöÑÂèØËØªÊÄßÂ§™Â∑Æ
  - Âè¶‰∏ÄÊñπÈù¢ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûêÊ≥ïÂèØ‰ª•Â§ÑÁêÜÁ©∫‰∫ßÁîüÂºè„ÄÅÂè™ÈúÄË¶ÅÈ¢ùÂ§ñÂÆö‰πâ‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÈôÑÂä†Ë°å‰∏∫Ôºå‰ΩÜÊú¨Ë¥®‰∏ä‰∫ßÁîüÂºèÂíåËØ≠‰πâÂä®‰ΩúÁöÑÈÄâÊã©ËøòÊòØÂü∫‰∫é`lookahead`ÔºåÂπ∂‰∏çÂΩ±ÂìçÂàÜÊûêËøáÁ®ãÁöÑÊ≠£Á°ÆÊÄß

#### 4.1.1.3 Ê∂àÈô§Áõ¥Êé•Â∑¶ÈÄíÂΩí

- ÂØπ‰∫éÂÖ∑ÊúâÁõ¥Êé•Â∑¶ÈÄíÂΩíÁöÑ‰∫ßÁîüÂºèÔºåÂÖ∂‰∏ÄËà¨ÂΩ¢Âºè‰∏∫Ôºö
  - $$A \rightarrow A\alpha_1 \ | \ A\alpha_2 \ | \ \dots \ | \ A\alpha_m \ | \ \beta_1 \ | \ \beta_2 \ | \ \dots \ | \ \beta_n$$

- ÂèØ‰ª•Â∞ÜËøôÁªÑ‰∫ßÁîüÂºèÊõøÊç¢‰∏∫‰ª•‰∏ã‰∏§ÁªÑÁ≠â‰ª∑ÁöÑ„ÄÅÊó†Áõ¥Êé•Â∑¶ÈÄíÂΩíÁöÑ‰∫ßÁîüÂºèÔºö

  - $$\begin{align*} A &\rightarrow \beta_1 A' \ | \ \beta_2 A' \ | \ \dots \ | \ \beta_n A' \\ A' &\rightarrow \alpha_1 A' \ | \ \alpha_2 A' \ | \ \dots \ | \ \alpha_m A' \ | \ \varepsilon \end{align*}$$‚Äã

- ÊØîÂ¶ÇÊú¨Ê¨°ÂÆûÈ™å‰∏≠`simple_expression`Âíå`term`ÂØπÂ∫îÁöÑBNFË°®ËææÂºè

  - `simple_expression = ["+"|"-"] term {("+"|"-") term}`
  - `term = factor {("*"|"DIV") factor}`

- Â¶ÇÊûúÁõ¥Êé•Â∞Ü‰∏äËø∞BNFÁøªËØë‰∏∫CFGÁöÑ‰∫ßÁîüÂºèÔºåÂÖ∂‰∏≠‰∏∫‰∫ÜËøõË°åÂ∑¶ÁªìÂêàËÄåÂÅöÂá∫ÁöÑËÆæËÆ°Â∞±‰ºöÂØºËá¥Â∑¶ÈÄíÂΩíÔºö

  - ÂØπex3‰∏≠LALR(1)ÂàÜÊûêÊ≥ï‰∏≠‰∏ç‰ºöÂºïÂèëÈóÆÈ¢ò„ÄÅÂõ†‰∏∫Ëá™Â∫ïÂêë‰∏äÂàÜÊûêÊ≥ïÂØπÂ∑¶ÈÄíÂΩí‰∏çÊïèÊÑü
  - ÂØπÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûêÊ≥ïÂΩ±ÂìçÂæàÂ§ßÔºå‰ºöÂá∫Áé∞Ê≠ªÂæ™ÁéØ

  ```java
  simple_expression ::=  /*["+" | "-"] term {("+" | "-" | "OR") term} */
                         term : termToken  term_list : termListToken
  				       {:
  					       ...
  				       :}
  			        |  ...
                      ;
                      
  term ::=  factor : factorToken  {: ... :}
  	   |  term : termToken TIMES factor : factorToken
  		  {:
  			  ...
  		  :}
  	   |                    
  ```

  

- Ê†πÊçÆ‰∏äËø∞ËßÑÂàôÔºåÂ∞Ü‰∏äÈù¢ÁöÑBNFË°®ËææÂºèÊîπÈÄ†‰∏∫‰∏çÂÖ∑ÊúâÂ∑¶ÈÄíÂΩíÁöÑ‰∫ßÁîüÂºè„ÄÅËΩ¨ËÄåÊàê‰∏∫Âè≥ÈÄíÂΩí

  - `simple_expression -> [+|-] term post_term | term post_term`
  - `post_term -> (+|-|or) term post_term | Œµ`
  - `term -> factor post_factor`
  - `post_factor -> (*|&|div|mod) factor post_factor | Œµ`

- ÂÖ∂‰ªñÁõ¥Êé•Â∑¶ÈÄíÂΩíÁöÑÂ§ÑÁêÜÊñπÊ≥ï‰πüÁ±ª‰ºº

#### 4.1.1.4 Ê∂àÈô§Èó¥Êé•Â∑¶ÈÄíÂΩí

- ÂØπ‰∫éÂÖ∑ÊúâÈó¥Êé•Â∑¶ÈÄíÂΩíÁöÑ‰∫ßÁîüÂºèÔºåÂÖ∂Â∑¶ÈÄíÂΩíÈúÄË¶ÅÂ∞ÜÊüê‰∏™‰∫ßÁîüÂºè‰ª£ÂÖ•Âè¶‰∏Ä‰∏™‰∫ßÁîüÂºèÁöÑÂè≥ÈÉ®

- ÁªèËøá‰∏ãÈù¢ÁÆóÊ≥ï‰ª£ÂÖ•ÂêéÔºåÂèØ‰ª•Â∞ÜËøô‰∏ÄÁªÑ‰∫ßÁîüÂºè‰∏≠ÊâÄÊúâÈó¥Êé•Â∑¶ÈÄíÂΩíËΩ¨Âåñ‰∏∫Áõ¥Êé•Â∑¶ÈÄíÂΩíÔºåÂÆûÈôÖ‰∏äÂ§ÑÁêÜÊñπÊ≥ïÂíåÊ∂àÈô§Áõ¥Êé•Â∑¶ÈÄíÂΩí‰∏ÄËá¥

  ![image-20250629173316254](./scheme.assets/image-20250629173316254.png)

------

#### 4.1.1.5 ÊèêÂèñÂ∑¶ÂÖ¨Âõ†Â≠ê

- ÂØπ‰∫é‰∏ÄÁªÑ‰∫ßÁîüÂºèÔºåÂ¶ÇÊûúÂÆÉ‰ª¨ÊúâÂÖ±ÂêåÁöÑÂ∑¶ÂÖ¨Âõ†Â≠êÔºåÂÖ∂‰∏ÄËà¨ÂΩ¢Âºè‰∏∫Ôºö
  - $$A \rightarrow \alpha\beta_1 \ | \ \alpha\beta_2 \ | \ \dots \ | \ \alpha\beta_n \ | \ \gamma$$

- ÂèØ‰ª•Â∞ÜËøôÁªÑ‰∫ßÁîüÂºèÊõøÊç¢‰∏∫‰ª•‰∏ã‰∏§ÁªÑÁ≠â‰ª∑ÁöÑ„ÄÅÊó†ÂÖ¨ÂÖ±Â∑¶ÂÖ¨Âõ†Â≠êÁöÑ‰∫ßÁîüÂºèÔºö
  - $$\begin{align*} A &\rightarrow \alpha A' \ | \ \gamma \\ A' &\rightarrow \beta_1 \ | \ \beta_2 \ | \ \dots \ | \ \beta_n \end{align*}$$

- ÈúÄË¶ÅÊ≥®ÊÑèËøôÈáåÁöÑÊìç‰ΩúÂèØËÉΩÊòØÈÄíÂΩíÁöÑÔºåÂç≥Â¶ÇÊûúÊõøÊç¢ÂêéÔºåÊñ∞ÁöÑ $A'$ ‰∫ßÁîüÂºè‰ªçÁÑ∂ÊúâÂÖ¨ÂÖ±Â∑¶Âõ†Â≠êÔºåÂàôÈúÄË¶ÅÈáçÂ§ç‰∏äËø∞ËøáÁ®ã

- ÊØîÂ¶ÇÊú¨Ê¨°ÂÆûÈ™å‰∏≠`statement`„ÄÅ`assignment`Âíå`procedure_call`ÂØπÂ∫îÁöÑBNFË°®ËææÂºè

  - `statement = [assignment | procedure_call | ... ]`
  - `assignment = identifier ...`
  - `procedure_call = identifier ...`

- Â¶ÇÊûúÁõ¥Êé•Â∞Ü‰∏äËø∞BNFÁøªËØë‰∏∫CFGÁöÑ‰∫ßÁîüÂºèÔºå‰ºö‰∫ßÁîüÂ∑¶ÂÖ¨Âõ†Â≠êÈóÆÈ¢òÔºö

- ÂØπex3‰∏≠LALR(1)ÂàÜÊûêÊ≥ï‰∏≠‰∏ç‰ºöÂºïÂèëÈóÆÈ¢ò„ÄÅÂõ†‰∏∫Ëá™Â∫ïÂêë‰∏äÂàÜÊûêÊ≥ïÂØπÂ∑¶ÂÖ¨Âõ†Â≠ê‰∏çÊïèÊÑü

- ÂØπÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûêÊ≥ïÂΩ±ÂìçËæÉÂ§ßÔºåÂ∞ΩÁÆ°ÂèØ‰ª•ÈÄöËøáÂõûÊ∫ØÊú∫Âà∂ËÆ©ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûêÊ≥ïÂèØ‰ª•Â§ÑÁêÜÂ∑¶ÂÖ¨Âõ†Â≠êÔºå‰ΩÜÊòØËøôÁßçÊìç‰ΩúÂºÄÈîÄËøáÂ§ßÔºåÊïÖÈúÄË¶ÅËÄÉËôëÊ∂àÈô§Â∑¶ÂÖ¨Âõ†Â≠ê

  ```java
  statement ::=  assignment
              |  procedure_call
              |  ...
              ;       
  
  assignment ::=	IDENTIFIER:identifier selector:selectorName ASSIGNMENT expression:expressionToken
  		        {:
  			        ...
  		        :}
               ;
  
  procedure_call ::=	IDENTIFIER: procedureName actual_parameters: actualParameters
  		            {:
  			            ...
  		            :}
                   ;
  ```

  

- Ê†πÊçÆ‰∏äËø∞ËßÑÂàôÔºåÂ∞Ü‰∏äÈù¢ÁöÑBNFË°®ËææÂºèÊîπÈÄ†‰∏∫‰∏çÂÖ∑ÊúâÂ∑¶ÂÖ¨Âõ†Â≠êÁöÑ‰∫ßÁîüÂºè

  - `statement -> identifier id_statement | if_statement | while_statement`
  - `id_statement -> assignment | procedure_call`

- ÂÖ∂‰ªñÂ∑¶ÂÖ¨Âõ†Â≠êÁöÑÂ§ÑÁêÜÊñπÊ≥ï‰πüÁ±ª‰ºº

#### 4.1.1.6 ‰øÆÊîπÂêéÁöÑÊñáÊ≥ï

$$
\begin{aligned}
\textit{module} \rightarrow & \; \textbf{module} \; \textbf{identifier} \; \textbf{;} \; \textit{declarations} \; \textit{statement\_block} \; \textbf{end} \; \textbf{identifier} \; \textbf{.} \\
\textit{statement\_block} \rightarrow & \; \textbf{begin} \; \textit{statement\_sequence} \\
    & | \; \epsilon \\
\textit{declarations} \rightarrow & \; \textit{const\_declaration} \;\; \textit{type\_declaration} \;\; \textit{var\_declaration} \;\; \textit{procedure\_declaration\_sequence} \\
\textit{const\_declaration} \rightarrow & \; \textbf{const} \; \textit{const\_assign} \\
    & | \; \epsilon \\
\textit{const\_assign} \rightarrow & \; \textbf{identifier} \; \textbf{=} \; \textit{expression} \; \textbf{;} \; \textit{const\_assign} \\
    & | \; \epsilon \\
\textit{type\_declaration} \rightarrow & \; \textbf{type} \; \textit{type\_assign} \\
    & | \; \epsilon \\
\textit{type\_assign} \rightarrow & \; \textbf{identifier} \; \textbf{=} \; \textit{type} \; \textbf{;} \; \textit{type\_assign} \\
    & | \; \epsilon \\
\textit{type} \rightarrow & \; \textbf{identifier} \\
    & | \; \textit{type\_arr} \\
    & | \; \textit{type\_rec} \\
    & | \; \textbf{integer} \\
    & | \; \textbf{boolean} \\
\textit{type\_arr} \rightarrow & \; \textbf{array} \; \textit{expression} \; \textbf{of} \; \textit{type} \\
\textit{type\_rec} \rightarrow & \; \textbf{record} \; \textit{field\_list} \; \textbf{end} \\
\textit{field\_list} \rightarrow & \; \textbf{identifier} \; \textbf{:} \; \textit{type} \; \textbf{;} \; \textit{field\_list} \\
    & | \; \epsilon \\
\textit{var\_declaration} \rightarrow & \; \textbf{var} \; \textit{var\_list} \\
    & | \; \epsilon \\
\textit{var\_list} \rightarrow & \; \textit{identifier\_list} \; \textbf{:} \; \textit{type} \; \textbf{;} \; \textit{var\_list} \\
    & | \; \epsilon \\
\textit{procedure\_declaration\_sequence} \rightarrow & \; \textit{procedure\_declaration} \; \textbf{;} \; \textit{procedure\_declaration\_sequence} \\
    & | \; \epsilon \\
\textit{procedure\_declaration} \rightarrow & \; \textit{procedure\_head} \; \textbf{;} \; \textit{procedure\_body} \\
\textit{procedure\_head} \rightarrow & \; \textbf{procedureedure} \; \textbf{identifier} \; \textit{procedure\_parameters} \\
\textit{procedure\_parameters} \rightarrow & \; \textbf{(} \; \textit{parameter\_list} \; \textbf{)} \\
    & | \; \epsilon \\
\textit{parameter\_list} \rightarrow & \; \textit{parameter} \; \textit{extended\_parameter} \\
\textit{parameter} \rightarrow & \; \textbf{var} \; \textit{identifier\_list} \; \textbf{:} \; \textit{type} \\
    & | \; \textit{identifier\_list} \; \textbf{:} \; \textit{type} \\
\textit{extended\_parameter} \rightarrow & \; \textbf{;} \; \textit{parameter} \; \textit{extended\_parameter} \\
    & | \; \epsilon \\
\textit{identifier\_list} \rightarrow & \; \textbf{identifier} \; \textit{extended\_identifier} \\
\textit{extended\_identifier} \rightarrow & \; \textbf{,} \; \textbf{identifier} \; \textit{extended\_identifier} \\
    & | \; \epsilon \\
\textit{procedure\_body} \rightarrow & \; \textit{declarations} \;\; \textit{statement\_block} \;\; \textbf{end} \; \textbf{identifier} \\
\textit{statement\_sequence} \rightarrow & \; \textit{statement} \; \textit{extended\_statement} \\
\textit{extended\_statement} \rightarrow & \; \textbf{;} \; \textit{statement} \; \textit{extended\_statement} \\
    & | \; \epsilon \\
\textit{statement} \rightarrow & \; \textbf{identifier} \; \textit{identifier\_statement} \\
    & | \; \textit{if\_statement} \\
    & | \; \textit{while\_statement} \\
\textit{identifier\_statement} \rightarrow & \; \textit{assignignment} \\
    & | \; \textit{procedure\_call} \\
\textit{assignignment} \rightarrow & \; \textit{selector} \; \textbf{:=} \; \textit{expression} \\
\textit{selector} \rightarrow & \; \textbf{.} \; \textbf{identifier} \; \textit{selector} \\
    & | \; \textbf{[} \; \textit{expression} \; \textbf{]} \; \textit{selector} \\
    & | \; \epsilon \\
\textit{procedure\_call} \rightarrow & \; \textit{act\_parameters} \\
\textit{act\_parameters} \rightarrow & \; \textbf{(} \; \textit{expression\_list} \; \textbf{)} \\
    & | \; \epsilon \\
\textit{expression\_list} \rightarrow & \; \textit{expression} \; \textit{extended\_expression} \\
    & | \; \epsilon \\
\textit{extended\_expression} \rightarrow & \; \textbf{,} \; \textit{expression} \; \textit{extended\_expression} \\
    & | \; \epsilon \\
\textit{if\_statement} \rightarrow & \; \textbf{if} \; \textit{expression} \; \textbf{then} \; \textit{statement\_sequence} \; \textit{elif\_sequence} \; \textit{else\_statement} \; \textbf{end} \\
\textit{elif\_sequence} \rightarrow & \; \textbf{elsif} \; \textit{expression} \; \textbf{then} \; \textit{statement\_sequence} \; \textit{elif\_sequence} \\
    & | \; \epsilon \\
\textit{else\_statement} \rightarrow & \; \textbf{else} \; \textit{statement\_sequence} \\
    & | \; \epsilon \\
\textit{while\_statement} \rightarrow & \; \textbf{while} \; \textit{expression} \; \textbf{do} \; \textit{statement\_sequence} \; \textbf{end} \\
\textit{expression} \rightarrow & \; \textit{simple\_expression} \; \textit{post\_expression} \\
\textit{post\_expression} \rightarrow & \; \textit{rel\_op} \; \textit{simple\_expression} \\
    & | \; \epsilon \\
\textit{rel\_op} \rightarrow & \; \textbf{=} \; | \; \textbf{\#} \; | \; \textbf{<} \\
    & | \; \textbf{<=} \; | \; \textbf{>} \; | \; \textbf{>=} \\
\textit{simple\_expression} \rightarrow & \; \textbf{+} \; \textit{term} \; \textit{post\_term} \\
    & | \; \textbf{-} \; \textit{term} \; \textit{post\_term} \\
    & | \; \textit{term} \; \textit{post\_term} \\
\textit{post\_term} \rightarrow & \; \textbf{+} \; \textit{term} \; \textit{post\_term} \\
    & | \; \textbf{-} \; \textit{term} \; \textit{post\_term} \\
    & | \; \textbf{or} \; \textit{term} \; \textit{post\_term} \\
    & | \; \epsilon \\
\textit{term} \rightarrow & \; \textit{factor} \; \textit{post\_factor} \\
\textit{post\_factor} \rightarrow & \; \textbf{*} \; \textit{factor} \; \textit{post\_factor} \\
    & | \; \textbf{\&} \; \textit{factor} \; \textit{post\_factor} \\
    & | \; \textbf{div} \; \textit{factor} \; \textit{post\_factor} \\
    & | \; \textbf{mod} \; \textit{factor} \; \textit{post\_factor} \\
    & | \; \epsilon \\
\textit{factor} \rightarrow & \; \textbf{identifier} \; \textit{selector} \\
    & | \; \textbf{num\_token} \\
    & | \; \textbf{(} \; \textit{expression} \; \textbf{)} \\
    & | \; \thicksim \; \textit{factor} \\
\end{aligned}
$$

### 4.1.2 ÁøªËØëÊ®°Âºè

#### 4.1.2.1 Êï∞ÊçÆÁªìÊûÑ

##### 4.1.2.1.1 `env`Á¨¶Âè∑Ë°®

- Á¨¶Âè∑Ë°®Á±ªÂÇ®Â≠òÂΩìÂâç‰ΩúÁî®ÂüüÁöÑÂêÑÁßçÊ†áËØÜÁ¨¶
- Á¨¶Âè∑Ë°®ÈúÄË¶Å‰ΩøÁî®`new Env(env)`ÁöÑËØ≠‰πâÂä®‰ΩúÊîØÊåÅÂµåÂ•ó‰ΩúÁî®ÂüüÁöÑÊ†àÂºèÁªìÊûÑ
- ÂΩìËøõÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑËøáÁ®ã‰ΩúÁî®ÂüüÔºåÂ∫îËØ•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ`env`Âπ∂Â∞ÜÂÖ∂ÈìæÊé•Âà∞ÊóßÁöÑ`env`
- Êü•ÊâæÁ¨¶Âè∑Êó∂Ôºå‰ºöÂÖàÂú®ÂΩìÂâç‰ΩúÁî®ÂüüÂØπÂ∫îÁöÑ`env`Êü•ÊâæÔºåÂ¶ÇÊûúÊâæ‰∏çÂà∞ÔºåÂàôÊ≤øÁùÄÈìæÊé•ÂéªÁà∂‰ΩúÁî®ÂüüÂØπÂ∫îÁöÑ`env`Êü•Êâæ

##### 4.1.2.1.2 `Decl`Â£∞Êòé

- Â£∞ÊòéÁ±ªÂ≠òÂÇ®Ê†áËØÜÁ¨¶ÁöÑÂêçÁß∞„ÄÅÁ±ªÂûã`type`Âíå`const`„ÄÅ`var`Á≠â‰øÆÈ•∞Á¨¶

##### 4.1.2.1.3 `Type`Á±ªÂûã

- Á±ªÂûãÂ±ÇÊ¨°ÁªìÊûÑÔºåÂåÖÊã¨ `IntegerType`, `BooleanType`, `ArrayType`, `RecType` , `FunctionType` , `ModuleType` Á≠â
- Á±ªÂûãÁªìÊûÑ‰∏ªË¶ÅÁî®‰∫éÁ±ªÂûãÊ£ÄÊü•Á≠âËØ≠‰πâÂàÜÊûêËøáÁ®ã

##### 4.1.2.1.4 `g_mod`, `g_proc` 

- Ë∞ÉÁî®ÂõæÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂØπÂ∫îË∞ÉÁî®Âõæ
- `g_mod`‰ª£Ë°®Êï¥‰∏™Ê®°Âùó
- `g_proc` ‰ª£Ë°®ÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ËøáÁ®ã„ÄÇ

##### 4.1.2.1.5 `calls`

- ÂÖ®Â±ÄË∞ÉÁî®ÂàóË°®ÔºåÂèØ‰ª•Ê±áÊÄªËß£ÊûêÊó∂ÈÅáÂà∞ÁöÑÊâÄÊúâËøáÁ®ãË∞ÉÁî®
- ÊòæÁÑ∂Âú®Ë∞ÉÁî®‰∏Ä‰∏™ËøáÁ®ãÊó∂ÔºåÂèØËÉΩÂá∫Áé∞ÂâçÂêëÂºïÁî®ÔºåÊ≠§Êó∂ËøáÁ®ãÁöÑÂÆåÊï¥ÂÆö‰πâÂèØËÉΩËøòÊú™Ë¢´Ëß£ÊûêÔºåÊâÄ‰ª•‰∏çËÉΩÁ´ãÂç≥È™åËØÅÂàÜÊûê
- ÂÖ®Â±ÄË∞ÉÁî®ÂàóË°®Â∞ÜÈ™åËØÅÂ∑•‰ΩúÊé®ËøüÂà∞Êï¥‰∏™ËøáÁ®ãËß£ÊûêÂÆåÊØïÂêé

##### 4.1.2.1.6 ÂêÑÁßçÂ±ûÊÄß

- ÈùûÁªàÁªìÁ¨¶ÂÖ∑ÊúâÁªºÂêàÂ±ûÊÄßÂíåÁªßÊâøÂ±ûÊÄßÔºåÁªàÁªìÁ¨¶‰πüÊúâÁªºÂêàÂ±ûÊÄß„ÄÅ‰ΩÜÊòØÁî±ËØçÊ≥ïÂàÜÊûêÂô®ÁªôÂÆö‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂàÜÊûê

- ÁªºÂêàÂ±ûÊÄßÊòØËá™Â∫ïÂêë‰∏ä‰º†ÈÄí‰ø°ÊÅØÔºå‰∏ÄËà¨Áî±ÂÖ∂Â≠êËäÇÁÇπÁöÑÂ±ûÊÄß
- ÁªßÊâøÂ±ûÊÄßÊòØËá™È°∂Âêë‰∏ä‰º†ÈÄí‰ø°ÊÅØÔºå‰∏ÄËà¨Ëá™‰∏äÂêë‰∏ã‰º†ÈÄí

------

#### 4.1.2.2 ËØ≠‰πâÂä®‰Ωú

##### 4.1.2.2.1 ‰ΩúÁî®ÂüüÂàÜÊûê

- `module` ËßÑÂàô

  - ÂàùÂßãÂåñ`g_mod`‰Ωú‰∏∫È°∂Â±ÇÊµÅÂõæÔºåÂàùÂßãÂåñÂÖ®Â±ÄÁ¨¶Âè∑Ë°®

  - ‰ΩøÁî®`{ cur = env; env = new Env(env); }`Ë°®Á§∫ËøõÂÖ•Ê®°Âùó‰ΩúÁî®Âüü

  - ‰ΩøÁî®`{ g_proc = g_mod.add('Main'); stat_block.g_stats = g_proc::add }`Ë°®Á§∫Ôºö

    - `g_mod`‰∏≠ÂàõÂª∫ËøáÁ®ãÊµÅÂõæ `g_proc`„ÄÅÂëΩÂêç‰∏∫mainÔºåÁî®‰∫éÂ≠òÊîæ‰∏ªÁ®ãÂ∫è‰ΩìÁöÑËØ≠Âè•

    - `g_proc` ÁöÑ`add`ÊñπÊ≥ï‰Ωú‰∏∫ÁªßÊâøÂ±ûÊÄß`g_stats`‰º†ÈÄíÁªô`stat_block`
    - ‰∏äËø∞Êìç‰ΩúÂ∞Ü‰∏ªÁ®ãÂ∫è‰∏≠ÊâÄÊúâËøáÁ®ãÈÉΩÊ∑ªÂä†Âà∞‰∏ªÊ®°Âùó‰∏≠

  - `{ env = cur }`Ë°®Á§∫ÈÄÄÂá∫Ê®°Âùó‰ΩúÁî®Âüü

- `proc` ËßÑÂàô

  - ÂàùÂßãÂåñ`g_proc`‰Ωú‰∏∫Â±ÄÈÉ®ÊµÅÂõæÔºåÂàùÂßãÂåñÂ±ÄÈÉ®Á¨¶Âè∑Ë°®
  - `{ proc_body.g_proc = g_mod.add(proc_head.id.lexeme) }`Ë°®Á§∫Âú®ÂÖ®Â±ÄÊ®°ÂùóÊµÅÂõæ`g_mod`‰∏≠Ôºå‰∏∫ÂΩìÂâçËøáÁ®ãÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøáÁ®ãÊµÅÂõæ`g_proc`
  - `{ stat_block.g_stats = proc_body.g_proc::add }`Ë°®Á§∫Â∞ÜÊñ∞ÂàõÂª∫ÁöÑ`g_proc`ÁöÑ`add`ÊñπÊ≥ï‰º†ÈÄí‰∏ãÂéªÔºåÁ°Æ‰øùËØ•ËøáÁ®ã‰ΩìÂÜÖÁöÑËØ≠Âè•Ë¢´Ê≠£Á°ÆÂú∞Ê∑ªÂä†Âà∞Ëá™Â∑±ÁöÑÊµÅÂõæÔºåÂÖ∂‰∏≠addÊòØjavaÊèê‰æõÁöÑÊé•Âè£`interface`

##### 4.1.2.2.2 ÊµÅÂõæÊûÑÂª∫

- `stat_seq`ËßÑÂàô

  - `{ stat.g_stats = stat_seq.g_stats }`Ë°®Á§∫Â∞Ü‰ªéÁà∂ËäÇÁÇπÊé•Êî∂Âà∞ÁöÑ`g_stats`ÊäΩË±°ÂáΩÊï∞Êé•Âè£Áõ¥Êé•‰º†ÈÄíÁªôÂÆÉÁöÑÂ≠êËäÇÁÇπ`stat`
  - Âú®ÊµÅÂõæ‰∏äÂΩ¢Êàê‰∫Ü‰∏ÄÊù°‰∏ä‰∏ãÊñá‰º†ÈÄíÈìæ

- `stat`ËßÑÂàô

  - `{ stat.g_stats.add(if_stat.statement) }`Ë°®Á§∫`if_stat`ÂÆåÊàêËß£ÊûêÂêéÔºåÁºñËØëÂô®‰ºöÂêë‰∏äËøîÂõûÂÆåÊï¥ÁöÑ`IfStatement`ÊµÅÂõæËäÇÁÇπÂØπË±°ÂÆû‰æã
  - `stat`ËäÇÁÇπÊé•Êî∂Âà∞Ëøô‰∏™ËäÇÁÇπÂêéÔºåË∞ÉÁî®ÁªßÊâø‰∏ãÊù•ÁöÑ`g_stats`ÂáΩÊï∞ÔºåÂ∞ÜËøô‰∏™`IfStatement`ËäÇÁÇπÊ∑ªÂä†Âà∞ÂΩìÂâç‰∏ä‰∏ãÊñáÁöÑËØ≠Âè•ÂàóË°®‰∏≠

- `if_stat`ËßÑÂàô

  - `{ statement = new IfStatement(expr.text) }`: ÈÅáÂà∞ `if`ÔºåÁ´ãÂç≥ÂàõÂª∫‰∏Ä‰∏™ `IfStatement` ÊµÅÂõæËäÇÁÇπ„ÄÇËøô‰∏™ËäÇÁÇπÂÜÖÈÉ®ÊúâËá™Â∑±ÁöÑ "true" Âíå "false" ËØ≠Âè•ÂàóË°®„ÄÇ

  - `{ g_tbody = statement.getTrueBody(); stat_seq.g_stats = g_tbody::add }`Ë°®Á§∫
    - È¶ñÂÖàËé∑Âèñ`IfStatement`ËäÇÁÇπÁöÑtrueÂàÜÊîØÂàóË°®`g_tbody`
    - ÁÑ∂ÂêéÂàáÊç¢‰∏ä‰∏ãÊñáÔºåÂ∞Ü`g_tbody`ÁöÑ`add`ÊñπÊ≥ï‰Ωú‰∏∫Êñ∞ÁöÑ`g_stats`ÁªßÊâøÂ±ûÊÄßÔºå‰º†ÈÄíÁªô`then`ÂêéÈù¢ÁöÑ`stat_seq`
    - ÊúÄÂêé`then`‰ª£Á†ÅÂùó‰∏≠ÁöÑÊâÄÊúâËØ≠Âè•ÈÉΩ‰ºöË¢´Ê∑ªÂä†Âà∞`IfStatement`ËäÇÁÇπÁöÑtrueÂàÜÊîØ‰∏≠ÔºåËÄå‰∏çÊòØÂ§ñÈÉ®ËØ≠Âè•ÂàóË°®ÂΩì‰∏≠

  - `{ g_fbody = statement.getFalseBody(); elif_seq.g_stats = g_fbody::add }`Ë°®Á§∫
    - È¶ñÂÖàËé∑Âèñ`IfStatement`ËäÇÁÇπÁöÑfalseÂàÜÊîØÂàóË°®`g_tbody`
    - ÁÑ∂ÂêéÂàáÊç¢‰∏ä‰∏ãÊñáÔºåÂ∞Ü`g_tbody`ÁöÑ`add`ÊñπÊ≥ï‰Ωú‰∏∫Êñ∞ÁöÑ`g_stats`ÁªßÊâøÂ±ûÊÄßÔºå‰º†ÈÄíÁªô`elif`„ÄÅ`else`ÂêéÈù¢ÁöÑ`stat_seq`
    - ÊúÄÂêé`then`‰ª£Á†ÅÂùó‰∏≠ÁöÑÊâÄÊúâËØ≠Âè•ÈÉΩ‰ºöË¢´Ê∑ªÂä†Âà∞`IfStatement`ËäÇÁÇπÁöÑfalseÂàÜÊîØ‰∏≠ÔºåËÄå‰∏çÊòØÂ§ñÈÉ®ËØ≠Âè•ÂàóË°®ÂΩì‰∏≠

  - `{ if_stat.statement = statement }`Ë°®Á§∫Â∞ÜÊûÑÂª∫ÂÆåÊàêÁöÑ„ÄÅÂåÖÂê´‰∫ÜÊâÄÊúâÂÜÖÂµåËØ≠Âè•ÁöÑ`IfStatement`ËäÇÁÇπ‰Ωú‰∏∫ÁªºÂêàÂ±ûÊÄßÂêë‰∏äËøîÂõû

- `while_stat` ËßÑÂàô

  - Âú®Êú¨Ë¥®‰∏ä‰πüÊòØÈÄöËøátrueÂàÜÊîØÂíåfalseÂàÜÊîØËøõË°åËØ≠‰πâÂàÜÊûê
  - Â∑•‰ΩúÂéüÁêÜ‰∏é‰∏äËø∞`if_stat`ÂÆåÂÖ®Áõ∏ÂêåÔºå‰∏çÂÜçËøáÂ§öËµòËø∞

##### 4.1.2.2.3 Ë°®ËææÂºè„ÄÅËµãÂÄº„ÄÅËøáÁ®ãË∞ÉÁî®

- `expr`„ÄÅ`term`„ÄÅ`factor`Ë°®ËææÂºèËßÑÂàô
  - ËØ≠‰πâÂä®‰ΩúÊòØÁ±ªÂûãÊ£ÄÊü•ÂíåÊñáÊú¨ÂêàÊàê
  - ËØ≠‰πâÊ£ÄÊü•Á°Æ‰øùË°®ËææÂºè‰∏≠ÁöÑÁ±ªÂûãÂÖºÂÆπÔºåÂπ∂ÁîüÊàê‰∏Ä‰∏™ÊñáÊú¨Ë°®Á§∫
  - ÊñáÊú¨Ë°®Á§∫ÂèØ‰ª•Ë¢´ÊîæÂÖ•`PrimitiveStatement`„ÄÅ`IfStatement`Á≠âÊµÅÂõæËäÇÁÇπ‰∏≠‰Ωú‰∏∫ÂØπÂ∫îÁöÑÊ†áÁ≠æ
- `assignment`„ÄÅ`proc_call` ËßÑÂàô
  - `{ assignment.statement = new PrimitiveStatement(...) }`Ë°®Á§∫ÂàõÂª∫`PrimitiveStatement`ÂØπË±°
  - `PrimitiveStatement`ÂØπË±°ÊòØ‰∏Ä‰∏™ÊµÅÂõæËäÇÁÇπÔºåÂÜÖÂÆπÊòØËµãÂÄºÊàñËøáÁ®ãË∞ÉÁî®ÁöÑÊñáÊú¨Ë°®Á§∫
  - `PrimitiveStatement`ÂØπË±°ÈöèÂêéÈÄöËøá`id_stat`ËßÑÂàôÔºåË¢´`id_stat.g_stats.add(...)`ËØ≠‰πâÂä®‰ΩúÊ∑ªÂä†Âà∞ÂΩìÂâçÁöÑÊµÅÂõæÂàÜÊîØ‰∏≠

#### 4.1.2.3 ÊúÄÁªàÁøªËØëÊ®°Âºè

$$
\begin{aligned}
\textit{s} \rightarrow & \; \{ \; env = null \; \} \\
    & \; \textit{module} \\
    & \; \{ \; for \; ( \; call \; \textbf{in} \; calls \; ) \quad call.verify() \; \} \\
    & \; \{ \; module.g\_mod.show() \; \} \\
\textit{module} \rightarrow & \; \textbf{module} \; \textbf{id} \; \textbf{;} \\
    & \; \{ \;
            decl = \textbf{new} \; Decl(\textbf{id}, \; \textbf{new} \; ModuleType()); \;
            env.put(decl) \;
        \} \\
    & \; \{ \;
            g\_mod = \textbf{new} \; Module(\textbf{id}.lexeme); \;
            module.g\_mod = g\_mod \;
        \} \\
    & \; \{ \;
            cur = env; \;
            env = \textbf{new} \; Env(env); \;
        \} \\
    & \; \{ \;
            decls.g\_mod = g\_mod; \;
        \} \\
    & \; \textit{decls} \\
    & \; \{ \;
            g\_proc = g\_mod.add(\text{\;}'Main' \;); \;
            stat\_block.g\_stats = g\_proc::add \;
        \} \\
    & \; \textit{stat\_block} \; \textbf{end} \; \textbf{id} \; \textbf{.} \\
    & \; \{ \;
            env = cur \;
        \} \\
\textit{stat\_block} \rightarrow & \; \textbf{begin} \\
    & \; \{ \; stat\_seq.g\_stats = stat\_block.g\_stats \; \} \\
    & \; \textit{stat\_seq} \\
    & | \; \epsilon \\
\textit{decls} \rightarrow & \; \textit{cnst\_decl} \;\; \textit{type\_decl} \;\; \textit{var\_decl} \\
    & \; \{ \; proc\_decl\_seq.g\_mod = decls.g\_mod \; \} \\
    & \; \textit{proc\_decl\_seq} \\
\textit{cnst\_decl} \rightarrow & \; \textbf{const} \; \textit{cnst\_ass} \\
    & | \; \epsilon \\
\textit{cnst\_ass} \rightarrow & \; \textbf{id} \; \textbf{=} \; \textit{expr} \\
    & \; \{ \; decl = \textbf{new} \; Decl(\textbf{id}, \; expr.type, \; \{ \; modifiers: [ \; Decl.Modifiers.Const \; ] \; \}) \; \} \\
    & \; \{ \; env.put(\textbf{id}.lexeme, \; decl) \; \} \\
    & \; \textbf{;} \; \textit{cnst\_ass}_1 \\
    & | \; \epsilon \\
\textit{type\_decl} \rightarrow & \; \textbf{type} \; \textit{type\_ass} \\
    & | \; \epsilon \\
\textit{type\_ass} \rightarrow & \; \textbf{id} \; \textbf{=} \; \textit{type} \\
    & \; \{ \; decl = \textbf{new} \; Decl(\textbf{id}, \; \textbf{new} \; Typedef(type.val)) \} \\
    & \; \{ \; env.put(\textbf{id}.lexeme, \; decl) \; \} \\
    & \; \textbf{;} \; \textit{type\_ass}_1 \\
    & | \; \epsilon \\
\textit{type} \rightarrow & \; \textbf{id} \\
    & \; \{ \;
            decl = env.get(\textbf{id}.lexeme); \;
            type.val = decl.type.val \;
        \} \\
    & | \; \textit{type\_arr} \\
    & \; \{ \; type.val = type\_arr.val \; \} \\
    & | \; \textit{type\_rec} \\
    & \; \{ \; type.val = type\_rec.val \; \} \\
    & | \; \textbf{integer} \\
    & \; \{ \; type.val = \textbf{new} \; IntegerType() \; \} \\
    & | \; \textbf{boolean} \\
    & \; \{ \; type.val = \textbf{new} \; BooleanType() \; \} \\
\textit{type\_arr} \rightarrow & \; \textbf{array} \; \textit{expr} \; \textbf{of} \; \textit{type} \\
    & \; \{ \;
            type\_arr.val = \textbf{new} \; ArrayType(type.val)
        \} \\
\textit{type\_rec} \rightarrow & \; \textbf{record} \\
    & \; \{ \; field\_list.l\_fields = \{ \; \} \; \} \\
    & \; \textit{field\_list} \; \textbf{end} \\
    & \; \{ \; type\_rec.val = \textbf{new} \; RecType(field\_list.fields) \; \} \\
\textit{field\_list} \rightarrow & \; \textbf{id} \; \textbf{:} \; \textit{type} \; \textbf{;} \\
    & \; \{ \; decl = \textbf{new} \; Decl(\textbf{id}, \; type.val, \; \{ \; modifiers: \; [ \; Decl.Modifiers.Var \; ] \; \}) \; \} \\
    & \; \{ \;
            field\_list.l\_fields.put(\textbf{id}.lexeme, \; decl); \;
            field\_list_1.l\_fields = field\_list.l\_fields \;
        \} \\
    & \; \textit{field\_list}_1 \\
    & \; \{ \; field\_list.fields = field\_list_1.fields \; \} \\
    & | \; \epsilon \quad \{ \; field\_list.fields = field\_list.l\_fields \; \} \\
\textit{var\_decl} \rightarrow & \; \textbf{var} \; \textit{var\_list} \\
    & | \; \epsilon \\
\textit{var\_list} \rightarrow & \; \textit{id\_list} \; \textbf{:} \; \textit{type} \; \textbf{;} \\
    & \; \{ \\
    & \quad for(id \; \textbf{in} \; id\_list.ids) \; \{ \\
    & \quad \quad env.put(\textbf{id}.lexeme, \; \textbf{new} \; Decl(\textbf{id}, \; type.val, \; \{ \; modifiers: \; [ \; Decl.Modifieres.Var \; ] \; \})); \\
    & \quad \} \\
    & \; \} \\
    & \; \textit{var\_list}_1 \\
    & | \; \epsilon \\
\textit{proc\_decl\_seq} \rightarrow & \; \{ \; proc\_decl.g\_mod = proc\_decl\_seq.g\_mod \; \} \\
    & \; \textit{proc\_decl} \; \textbf{;} \\
    & \; \{ \; proc\_decl\_seq_1.g\_mod = proc\_decl\_seq.g\_mod \; \} \\
    & \; \textit{proc\_decl\_seq}_1 \\
    & | \; \epsilon \\
\textit{proc\_decl} \rightarrow
    & \; \{ \;
            cur = env; \;
            env = \textbf{new} \; Env(env) \;
        \} \\
    & \; \textit{proc\_head} \; \textbf{;} \\
    & \; \{ \;
            proc\_body.g\_mod = proc\_decl.g\_mod; \;
            proc\_body.g\_proc = proc\_decl.g\_mod.add( proc\_head.id.lexeme ) \;
        \} \\
    & \; \{ \; proc\_body.decl\_id = proc\_head.id \; \} \\
    & \; \textit{proc\_body} \\
    & \; \{ \;
            env = cur; \;
            env.put(proc\_head.id, \; proc\_head.decl) \;
        \} \\
\textit{proc\_head} \rightarrow & \; \textbf{procedure} \; \textbf{id} \; \textit{proc\_pars} \\
    & \; \{ \; decl = \textbf{new} \; Decl(\textbf{id}, \; \textbf{new} \; FunctionType(proc\_pars.params)) \; \} \\
    & \; \{ \;
            proc\_head.decl = decl; \;
            proc\_head.id = \textbf{id} \;
        \} \\
\textit{proc\_pars} \rightarrow & \; \textbf{(} \; \textit{par\_list} \; \textbf{)} \quad \{ \; proc\_pars.params = par\_list.params \; \} \\
    & | \; \epsilon \quad \{ \; proc\_pars.params = [ \; ] \; \} \\
\textit{par\_list} \rightarrow & \; \textit{par} \; \textit{ext\_par} \\
    &  \; \{ \;
            par\_list.params = [ \; ...par.params, \; ...ext\_par.params \; ]
        \} \\
\textit{par} \rightarrow & \; \{ \; par.params = [ \; ] \; \} \\
    & \; \textbf{var} \; \textit{id\_list} \; \textbf{:} \; \textit{type} \\
    & \; \{ \\
    & \quad for(id \; \textbf{in} \; id\_list.ids) \; \{ \\
    & \quad \quad decl = \textbf{new} \; Decl(\textbf{id}, \; type.val, \; \{ \; modifiers: \; [ \; Decl.Modifiers.Var \; ] \; \}); \\
    & \quad \quad par.params.push(decl); \\
    & \quad \quad env.put(\textbf{id}.lexeme, \; decl); \\
    & \quad \} \\
    & \; \} \\
    & | \{ \;
            par.params = [ \; ] \;
        \} \\
    & \; \textit{id\_list} \; \textbf{:} \; \textit{type} \\
    & \; \{ \\
    & \quad for(id \; \textbf{in} \; id\_list.ids) \; \{ \\
    & \quad \quad decl = \textbf{new} \; Decl(\textbf{id}, \; type.val); \\
    & \quad \quad par.params.push(decl); \\
    & \quad \quad env.put(\textbf{id}.lexeme, \; decl); \\
    & \quad \} \\
    & \; \} \\
\textit{ext\_par} \rightarrow & \; \textbf{;} \; \textit{par} \; \textit{ext\_par}_1 \\
    & \; \{ \;
            ext\_par.params = [ \; ...par.params, \; ...ext\_par_1.params \; ] \;
        \} \\
    & | \; \epsilon \quad \{ \; ext\_par.params = [ \; ] \; \} \\
\textit{id\_list} \rightarrow & \; \textbf{id} \; \textit{ext\_id} \quad \{ \; id\_list.ids = [ \; \textbf{id}, \; ...ext\_id.ids \; ] \; \} \\
\textit{ext\_id} \rightarrow & \; \textbf{,} \; \textbf{id} \; \textit{ext\_id}_1 \quad \{ \; ext\_id.ids = [ \; \textbf{id}, \; ...ext\_id_1.ids \; ] \; \} \\
    & | \; \epsilon \quad \{ \; ext\_id.ids = [ \; ] \; \} \\
\textit{proc\_body} \rightarrow & \; \{ \; decls.g\_mod = proc\_body.g\_mod \; \} \\
    & \; \textit{decls} \\
    & \; \{ \; stat\_block.g\_stats = proc\_body.g\_proc::add \; \} \\
    & \; \textit{stat\_block} \;\; \textbf{end} \; \textbf{id} \\
\textit{stat\_seq} \rightarrow & \; \{ \; stat.g\_stats = stat\_seq.g\_stats \; \} \\
    & \; \textit{stat} \\
    & \; \{ \; ext\_stat.g\_stats = stat\_seq.g\_stats \; \} \\
    & \; \textit{ext\_stat} \\
\textit{ext\_stat} \rightarrow & \; \textbf{;} \quad \{ \; stat.g\_stats = ext\_stat.g\_stats \; \} \\
    & \; \textit{stat} \\
    & \; \{ \; ext\_stat_1.g\_stats = ext\_stat.g\_stats \; \} \\
    & \; \textit{ext\_stat}_1 \\
    & | \; \epsilon \\
\textit{stat} \rightarrow & \; \textbf{id} \\
    & \; \{ \;
            id\_stat.g\_stats = stat.g\_stats; \;
            id\_stat.id = \textbf{id}
        \} \\
    & \; \textit{id\_stat} \\
    & | \; \textit{if\_stat} \quad \{ \; stat.g\_stats.add(if\_stat.statement) \; \} \\
    & | \; \textit{while\_stat} \quad \{ \; stat.g\_stats.add(while\_stat.statement) \; \} \\
\textit{id\_stat} \rightarrow & \; \{ \; assignment.decl = env.get(id\_stat.id.getLexeme()); \; assignment.id = id\_stat.id \; \} \\
    & \; \textit{assignment} \\
    & \; \{ \; id\_stat.g\_stats.add(assignment.statement) \; \} \\
    & | \; \{ \; proc\_call.decl = env.get(id\_stat.id.getLexeme()); \; proc\_call.id = id\_stat.id \; \} \\
    & \; \textit{proc\_call} \\
    & \; \{ \; id\_stat.g\_stats.add(proc\_call.statement) \; \} \\
\textit{assignment} \rightarrow & \; \{ \; decl = assignment.decl; \; sel.parent\_type = decl.type \; \} \\
    & \; \textit{sel} \; \textbf{:=} \; \textit{expr} \\
    & \; \{ \; assignment.statement = \textbf{new} \; PrimitiveStatement(decl.lexeme \; || \; sel.text \; || \; \text{}':=' \; || \; expr.text) \; \} \\
\textit{sel} \rightarrow & \; \textbf{.} \; \textbf{id} \\
    & \; \{ \; type = sel.parent\_type.fields.get(\textbf{id}); \; sel_1.parent\_type = type \; \} \\
    & \; \textit{sel}_1 \\
    & \; \{ \;
            sel.text = \text{}'.' \; || \; \textbf{id}.lexeme \; || \; sel_1.text; \;
            sel.type = sel_1.type \;
        \} \\
    & | \; \textbf{[} \; \textit{expr} \; \textbf{]} \\
    & \; \{ \; sel_1.parent\_type = sel.parent\_type.type \; \} \\
    & \; \textit{sel}_1 \\
    & \; \{ \;
            sel.text = \text{}'[' \; || \; expr.text \; || \; \text{}']' \; || \; sel_1.text; \;
            sel.type = sel_1.type \;
        \} \\
    & | \; \epsilon \quad \{ \; sel.text = \text{}''; \; sel.type = sel.parent\_type \; \} \\
\textit{proc\_call} \rightarrow & \; \{ \; decl = proc\_call.decl \; \} \\
    & \; \textit{act\_pars} \\
    & \; \{ \; calls.add(\textbf{new} ProcCall(proc\_call.id, \; act\_pars.types)) \; \} \\
    & \; \{ \; proc\_call.statement = \textbf{new} \; PrimitiveStatement(decl.lexeme \; || \; act\_pars.text) \; \} \\
\textit{act\_pars} \rightarrow & \; \textbf{(} \; \textit{expr\_list} \; \textbf{)} \\
    & \; \{ \; act\_pars.types = expr\_list.types \; \} \\
    & \; \{ \; act\_pars.text = \text{}'(' \; || \; expr\_list.text \; || \; \text{}')' \; \} \\
    & | \; \epsilon \\
    & \; \{ \; act\_pars.types = [ \; ] \; \} \\
    & \; \{ \; act\_pars.text = \text{}'' \; \} \\
\textit{expr\_list} \rightarrow & \; \textit{expr} \; \textit{ext\_expr} \\
    & \; \{ \; expr\_list.types = [ \; expr.type, \; ...ext\_expr.types \; ] \; \} \\
    & \; \{ \; expr\_list.text = expr.text \; || \; ext\_expr.text \; \} \\
    & | \; \epsilon \\
    & \; \{ \; expr\_list.types = [ \; ] \; \} \\
    & \; \{ \; expr\_list.text = \text{}'' \; \} \\
\textit{ext\_expr} \rightarrow & \; \textbf{,} \; \textit{expr} \; \textit{ext\_expr} \\
    & \; \{ \; ext\_expr_1.types = [ \; expr.type, \; ...ext\_expr.types \; ] \; \} \\
    & \; \{ \; ext\_expr.text = \text{}',' \; || \; expr.text \; || \; ext\_expr_1.text \; \} \\
    & | \; \epsilon \\
    & \; \{ \; ext\_expr.types = [ \; ] \; \} \\
    & \; \{ \; ext\_expr.text = \text{}'' \; \} \\
\textit{if\_stat} \rightarrow & \; \textbf{if} \; \textit{expr} \\
    & \; \{ \; statement = \textbf{new} \; IfStatement(expr.text) \; \} \\
    & \; \textbf{then} \\
    & \; \{ \;
            g\_tbody = statement.getTrueBody(); \;
            stat\_seq.g\_stats = g\_tbody::add \;
        \} \\
    & \; \textit{stat\_seq} \\
    & \; \{ \;
            g\_fbody = statement.getFalseBody(); \;
            elif\_seq.g\_stats = g\_fbody::add \;
        \} \\
    & \; \textit{elif\_seq} \\
    & \; \{ \;
            g\_stats = elif\_seq.g\_pstats; \;
            else\_stat.g\_stats = g\_stats \;
        \} \\
    & \; \textit{else\_stat} \; \textbf{end} \\
    & \{ \; if\_stat.statement = statement \; \} \\
\textit{elif\_seq} \rightarrow & \; \textbf{elsif} \; \textit{expr} \\
    & \; \{ \; statement = \textbf{new} \; IfStatement(expr.text) \; \} \\
    & \; \textbf{then} \\
    & \; \{ \;
            g\_tbody = statement.getTrueBody(); \;
            stat\_seq.g\_stats = g\_tbody::add \;
        \} \\
    & \; \textit{stat\_seq} \\
    & \; \{ \;
            g\_fbody = statement.getFalseBody(); \;
            elif\_seq_1.g\_stats = g\_fbody::add \;
        \} \\
    & \; \textit{elif\_seq}_1 \\
    & \; \{ \;
            elif\_seq.g\_stats.add(statement); \;
            elif\_seq.g\_pstats = elif\_seq_1.g\_pstats \;
        \} \\
    & | \; \epsilon \quad \{ \; elif\_seq.g\_pstats = elif\_seq.g\_stats \; \} \\
\textit{else\_stat} \rightarrow & \; \textbf{else} \\
    & \; \{ \; stat\_seq.g\_stats = else\_stat.g\_stats \; \} \\
    & \; \textit{stat\_seq} \\
    & | \; \epsilon \\
\textit{while\_stat} \rightarrow & \; \textbf{while} \; \textit{expr} \\
    & \; \{ \; statement = \textbf{new} \; WhileStatement(expr.text) \; \} \\
    & \; \textbf{do} \\
    & \; \{ \;
            g\_lbody = statement.getLoopBody(); \;
            stat\_seq.g\_stats = g\_lbody::add \;
        \} \\
    & \; \textit{stat\_seq} \; \textbf{end} \\
    & \; \{ \; while\_stat.statement = statement \; \} \\
\textit{expr} \rightarrow & \; \textit{simple\_expr} \\
    & \; \{ \; post\_expr.l\_type = simple\_expr.type \; \} \\
    & \; \{ \; post\_expr.l\_text = simple\_expr.text \; \} \\
    & \; \textit{post\_expr} \\
    & \; \{ \; expr.type = post\_expr.type \; \} \\
    & \; \{ \; expr.text = post\_expr.text \; \} \\
\textit{post\_expr} \rightarrow & \; \textit{rel\_op} \; \textit{simple\_expr} \\
    & \; \{ \; post\_expr.text = post\_expr.l\_text \; || \; rel\_op.text \; || \; simple\_expr.text \; \} \\
    & \; \{ \; post\_expr.type = \textbf{new} \; BooleanType() \; \} \\
    & | \; \epsilon \\
    & \; \{ \; post\_expr.text = post\_expr.l\_text \; \} \\
    & \; \{ \; post\_expr.type = post\_expr.l\_type \; \} \\
\textit{rel\_op} \rightarrow & \; \textbf{=} \quad \{ \; rel\_op.text = \text{}'=' \; \} \\
    & | \; \textbf{\#} \quad \{ \; rel\_op.text = \text{}'\#' \; \} \\
    & | \; \textbf{<} \quad \{ \; rel\_op.text = \text{}'<' \; \} \\
    & | \; \textbf{<=} \quad \{ \; rel\_op.text = \text{}'<=' \; \} \\
    & | \; \textbf{>} \quad \{ \; rel\_op.text = \text{}'>' \; \} \\
    & | \; \textbf{>=} \quad \{ \; rel\_op.text = \text{}'>=' \; \} \\
\textit{simple\_expr} \rightarrow & \; \textbf{+} \; \textit{term} \\
    & \; \{ \; post\_term.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_term.l\_text = \text{}'(+' \; || \; term.text \; || \; \text{}')' \; \} \\
    & \; \textit{post\_term} \\
    & \; \{ \; simple\_expr.type = post\_term.type; \; simple\_expr.text = post\_term.text \; \} \\
    & | \; \textbf{-} \; \textit{term} \\
    & \; \{ \; post\_term.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_term.l\_text = \text{}'(-' \; || \; term.text \; || \; \text{}')' \; \} \\
    & \; \textit{post\_term} \\
    & \; \{ \; simple\_expr.type = post\_term.type; \; simple\_expr.text = post\_term.text \; \} \\
    & | \; \textit{term} \\
    & \; \{ \; post\_term.l\_type = term.type; \; post\_term.l\_text = term.text \; \} \\
    & \; \textit{post\_term} \\
    & \; \{ \; simple\_expr.type = post\_term.type; \; simple\_expr.text = post\_term.text \; \} \\
\textit{post\_term} \rightarrow & \; \textbf{+} \; \textit{term} \\
    & \; \{ \; post\_term_1.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_term_1.l\_text = post\_term.l\_text \; || \; \text{}'+' \; || \; term.text \; \} \\
    & \; \textit{post\_term}_1 \\
    & \; \{ \; post\_term.type = post\_term_1.type; \; post\_term.text = post\_term_1.text \; \} \\
    & | \; \textbf{-} \; \textit{term} \\
    & \; \{ \; post\_term_1.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_term_1.l\_text = post\_term.l\_text \; || \; \text{}'-' \; || \; term.text \; \} \\
    & \; \textit{post\_term}_1 \\
    & \; \{ \; post\_term.type = post\_term_1.type; \; post\_term.text = post\_term_1.text \; \} \\
    & | \; \textbf{or} \; \textit{term} \\
    & \; \{ \; post\_term_1.l\_type = \textbf{new} \; BooleanType() \; \} \\
    & \; \{ \; post\_term_1.l\_text = post\_term.l\_text \; || \; \text{}'or' \; || \; term.text \; \} \\
    & \; \textit{post\_term}_1 \\
    & \; \{ \; post\_term.type = post\_term_1.type; \; post\_term.text = post\_term_1.text \; \} \\
    & | \; \epsilon \\
    & \; \{ \; post\_term.type = post\_term.l\_type \; \} \\
    & \; \{ \; post\_term.text = post\_term.l\_text \; \} \\
\textit{term} \rightarrow & \; \textit{factor} \\
    & \; \{ \; post\_factor.l\_type = factor.type; \; post\_factor.l\_text = factor.text \; \} \\
    & \; \textit{post\_factor} \\
    & \; \{ \; term.type = post\_factor.type; \; term.text = post\_factor.text \; \} \\
\textit{post\_factor} \rightarrow & \; \textbf{*} \; \textit{factor} \\
    & \; \{ \; post\_factor_1.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_factor_1.l\_text = post\_factor.l\_text \; || \; \text{}'*' \; || \; factor.text \; \} \\
    & \; \textit{post\_factor}_1 \\
    & \; \{ \; post\_factor.type = post\_factor_1.type; \; post\_factor.text = post\_factor_1.text \; \} \\
    & | \; \textbf{\&} \; \textit{factor} \\
    & \; \{ \; post\_factor_1.l\_type = \textbf{new} \; BooleanType() \; \} \\
    & \; \{ \; post\_factor_1.l\_text = post\_factor.l\_text \; || \; \text{}'\&' \; || \; factor.text \; \} \\
    & \; \textit{post\_factor}_1 \\
    & \; \{ \; post\_factor.type = post\_factor_1.type; \; post\_factor.text = post\_factor_1.text \; \} \\
    & | \; \textbf{div} \; \textit{factor} \\
    & \; \{ \; post\_factor_1.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_factor_1.l\_text = post\_factor.l\_text \; || \; \text{}'div' \; || \; factor.text \; \} \\
    & \; \textit{post\_factor}_1 \\
    & \; \{ \; post\_factor.type = post\_factor_1.type; \; post\_factor.text = post\_factor_1.text \; \} \\
    & | \; \textbf{mod} \; \textit{factor} \\
    & \; \{ \; post\_factor_1.l\_type = \textbf{new} \; IntegerType() \; \} \\
    & \; \{ \; post\_factor_1.l\_text = post\_factor.l\_text \; || \; \text{}'mod' \; || \; factor.text \; \} \\
    & \; \textit{post\_factor}_1 \\
    & \; \{ \; post\_factor.type = post\_factor_1.type; \; post\_factor.text = post\_factor_1.text \; \} \\
    & | \; \epsilon \\
    & \; \{ \;post\_factor.type = post\_factor.l\_type \; \} \\
    & \; \{ \; post\_factor.text = post\_factor.l\_text \; \} \\
\textit{factor} \rightarrow & \; \textbf{id} \\
    & \; \{ \; decl = env.get(\textbf{id}.lexeme); \; sel.parent\_type = decl.type \; \} \\
    & \; \textit{sel} \\
    & \; \{ \; factor.type = sel.type; \; factor.text = \textbf{id}.lexeme \; || \; sel.text \; \} \\
    & | \; \textbf{num\_token} \\
    & \; \{ \; factor.type = \textbf{new} \; IntegerType(); \; factor.text = \textbf{num\_token}.lexeme \; \} \\
    & | \; \textbf{(} \; \textit{expr} \; \textbf{)} \\
    & \; \{ \; factor.type = expr.type; \; factor.text = \text{}'(' \; || \; expr.text \; || \; \text{}')' \; \} \\
    & | \; \thicksim \; \textit{factor}_1 \\
    & \; \{ \; factor.type = \textbf{new} \; BooleanType(); \; factor.text = \text{}'\thicksim' \; || \; factor_1.text \; \} \\
\end{aligned}
$$

## 4.2 ÁºñÂÜôÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûêÁ®ãÂ∫è

### 4.2.1ËØçÊ≥ïÂàÜÊûê

- ËØçÊ≥ïÂàÜÊûêÈÉ®ÂàÜ‰∏éex2‰∏ÄËá¥

- ÂØπ‰∏äÈù¢Â∑≤ÁªèÁªôÂá∫ Oberon-0 ËØ≠Ë®ÄËØçÊ≥ïËßÑÂàôÁöÑÊ≠£ÂàôÂÆö‰πâÂºèÔºåÂèØ‰ª•Ê†πÊçÆ‰∏äÈù¢ÁªôÂá∫ÁöÑÊ≠£ÂàôÂºèÁªôÂá∫jflexÁöÑ‰ª£Á†Å

  ```java
  /* Regular definitions */
  
  MyInteger     = 0[0-7]* | [1-9]+[0-9]*
  Identifier    = [a-zA-Z][a-zA-Z0-9]*
  Whitespace    = [ \t\n\r] | \r\n
  Comment       = "(*" ~ "*)" 
  ```

  

- ÂØπÂÖ∂‰ªñ‰∏çÈúÄË¶ÅÊ≠£ÂàôË°®ËææÂºèÁöÑÂçïËØçÔºåÊØîÂ¶Ç`MODULE`„ÄÅ`>=`ÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÂåπÈÖçÔºåjflex‰πüÂèØ‰ª•ÂæàÁÆÄÂçïÂú∞Â§ÑÁêÜÂ≠óÁ¨¶‰∏≤ÂåπÈÖç

  ```
  "MODULE"        { return Keyword.symModule(yyline + 1, yycolumn + 1); }
  
  ">="            { return Operator.gteq(yyline + 1, yycolumn + 1); }
  
  ...
  ```



- ÂØπÈùûÊ≥ïÂçïËØçÁöÑÊ≠£ÂàôË°®ËææÂºèÔºå‰πüÂíåex2Á±ª‰ºº

  ```java
  /* Exception definitions */
  
  IllegalComment = "(*" ([^\*] | "*"+[^\)])* | ([^\(]|"("+[^\*])* "*)"
  IllegalOctal = 0[0-7]*[9|8]+[0-9]*
  IllegalInteger = {MyInteger} + {Identifier}+
  ```



### 4.2.2 ËØ≠Ê≥ïÂàÜÊûê

#### 4.2.2.1 ÁéØÂ¢ÉË°®

- `env`Ë°®Á§∫‰∏Ä‰∏™ÁéØÂ¢ÉÔºåÁî®‰∫éÂ≠òÂÇ®Â£∞ÊòéÂèäÂÖ∂‰ΩúÁî®ÂüüÈìæ

  ```java
  package parser.env;
  
  import java.util.*;
  import exceptions.*;
  import parser.type.*;
  
  /**
   * Ë°®Á§∫‰∏Ä‰∏™ÁéØÂ¢ÉÔºåÁî®‰∫éÂ≠òÂÇ®Â£∞ÊòéÂèäÂÖ∂‰ΩúÁî®ÂüüÈìæ„ÄÇ
   */
  public class Env {
  
      private Hashtable<String, Declaration> decls;
      protected Env prev;
  
      /**
       * ÂàõÂª∫‰∏Ä‰∏™Âü∫‰∫éÂΩìÂâçÁéØÂ¢ÉÁöÑÊñ∞ÂµåÂ•óÁéØÂ¢É„ÄÇ
       * 
       * @param cur ÂΩìÂâçÁéØÂ¢É
       */
      public Env(Env cur) {
          decls = new Hashtable<String, Declaration>();
          prev = cur;
      }
  
      /**
       * ÂêëÁéØÂ¢É‰∏≠Ê∑ªÂä†Â£∞Êòé„ÄÇ
       * 
       * @param s Â£∞ÊòéÁöÑËØçÁ¥†
       * @param t Â£∞ÊòéÂØπË±°
       * @throws OberonException Â¶ÇÊûúÂ∑≤Â≠òÂú®ÂêåÂêçÂ£∞Êòé
       */
      public void putDecl(String s, Declaration t) throws OberonException {
          if (decls.containsKey(s.toLowerCase()))
              throw new OberonException();
          decls.put(s.toLowerCase(), t);
      }
  
      /**
       * ‰ªéÁéØÂ¢É‰∏≠Ëé∑ÂèñÂ£∞Êòé„ÄÇ
       * 
       * @param s Â£∞ÊòéÁöÑËØçÁ¥†
       * @return Â£∞ÊòéÂØπË±°ÔºåËã•‰∏çÂ≠òÂú®ÂàôËøîÂõûnull
       */
      public Declaration getDecl(String s) {
          String key = s.toLowerCase();
          for (Env e = this; e != null; e = e.prev) {
              Declaration found = e.decls.get(key);
              if (found != null)
                  return found;
          }
          return null;
      }
  }
  ```

  

- `declaration`Ë°®Á§∫‰∏Ä‰∏™Â£∞ÊòéÔºåÂåÖÊã¨Ê†áËØÜÁ¨¶„ÄÅÁ±ªÂûãÂíåÊâ©Â±ïÂ±ûÊÄßÁ≠â

  ```java
  /**
  * ÊûÑÈÄ†‰∏Ä‰∏™Â£∞ÊòéÂØπË±°„ÄÇ
  * @param id Ê†áËØÜÁ¨¶
  * @param type Á±ªÂûã
  * @param extAttrs Êâ©Â±ïÂ±ûÊÄß
  */
  public Declaration(Identifier id, Type type, Hashtable<String, Object> extAttrs) {
      this.id = id;
      this.lexeme = id.getLexeme();
      this.line = id.getLine();
      this.column = id.getColumn();
      this.type = type;
      this.extAttrs = extAttrs == null ? new Hashtable<String, Object>() : extAttrs;
  }
  ```

  

- `call`ÊòØËØ≠Ê≥ïÂàÜÊûêËøáÁ®ã‰∏≠ËÆ∞ÂΩïË∞ÉÁî®ÁöÑ‰∏ªË¶ÅÁ±ªÔºåË°®Á§∫‰∏ÄÊ¨°ËøáÁ®ãË∞ÉÁî®ÔºåÂåÖÊã¨ËøáÁ®ãÊ†áËØÜÁ¨¶„ÄÅÁ≠æÂêçÂíåÁéØÂ¢É

  ```java
  /**
  * ÊûÑÈÄ†‰∏Ä‰∏™ËøáÁ®ãË∞ÉÁî®ÂØπË±°„ÄÇ
  * @param id ËøáÁ®ãÊ†áËØÜÁ¨¶
  * @param params ÂèÇÊï∞Á±ªÂûãÂàóË°®
  * @param env ÂΩìÂâçÁéØÂ¢É
  */
  public Call(Identifier id, ArrayList<Type> params, Env env) {
      this.id = id;
      this.signature = ProcedureType.rawSig(params);
      this.env = env;
  }
  ```

  

#### 4.2.2.2 ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê

- `AddSeq`ÊòØ‰∏Ä‰∏™Êé•Âè£Ôºö

  - ËØ≠Ê≥ïÂàÜÊûêËøáÁ®ã‰∏≠parserËé∑Âèñ‰∏Ä‰∏™ÊñπÊ≥ï`add`ÁöÑÂºïÁî®ÔºåËØ•ÊñπÊ≥ïËÉΩÂ∞ÜËØ≠Âè•Ê∑ªÂä†Âà∞ÂÆÉÂΩìÂâçÊ≠£Âú®ÊûÑÂª∫ÁöÑÊµÅÁ®ãÂõæÁªìÊûÑ‰∏≠
  - ÈÄöËøáÊñπÊ≥ïÂºïÁî®ÂàõÂª∫Ëøô‰∏™Êé•Âè£ÂØπË±°ÔºåËØ≠Ê≥ïÂàÜÊûêËøáÁ®ã‰∏≠ÂèØ‰ª•Â∞ÜËøô‰∏™ÂºïÁî®‰ª•`AddSeq`ÂØπË±°ÁöÑÂΩ¢Âºè‰º†ÈÄíÁªô`stat_block`Âíå`stat_seq`Á≠âËß£ÊûêÊñπÊ≥ï
  - ÊØè‰∏™`stat`ÊñπÊ≥ïÈÉΩÂè™‰ºöË∞ÉÁî®Ëá™Â∑±Êé•Êî∂Âà∞ÁöÑ`add`

  ```java
  package parser;
  
  import flowchart.*;
  
  public interface AddSeq {
      public AbstractStatement add(AbstractStatement arg0);
  }
  ```

  

- `NextToken`‰πüÊòØ‰∏Ä‰∏™Á±ª‰ººÁöÑÊé•Âè£ÔºåÂè™‰∏çËøáÂÆÉÁöÑÁî®Â§ÑÂè™ÊúâÊõø‰ª£ËØçÊ≥ïÂàÜÊûêÂô®ÁöÑ`next_token`

  ```
  package parser;
  
  import exceptions.*;
  import scanner.token.*;
  
  public interface NextToken {
      public Token nextToken() throws java.io.IOException, OberonException;
  }
  
  ```

  

- `parser`ÊåâÁÖßÂÆûÈ™åË¶ÅÊ±ÇËøõË°åÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê

  - ÊñáÊ≥ïÁöÑÊØè‰∏ÄÈùûÁªàÁªìÁ¨¶Âè∑Â∫îÂØπÂ∫îÁùÄ‰∏Ä‰∏™ÈÄíÂΩíÂ≠êÁ®ãÂ∫èÔºåÂºÄÂßãÁ¨¶Âè∑ÂàôÂØπÂ∫îÁùÄÂÖ∂‰∏≠ÁöÑ‰∏ªÁ®ãÂ∫è
  - Áî±ÂêëÂâçÁúãÁ¨¶Âè∑LookaheadÂÜ≥ÂÆöÂàÜÊîØÂä®‰Ωú
  - ÊØè‰∏Ä‰∏™ÁªßÊâøÂ±ûÊÄßÂØπÂ∫î‰∏Ä‰∏™ÂΩ¢ÂºèÂèÇÊï∞ÔºåÊâÄÊúâÁªºÂêàÂ±ûÊÄßÂØπÂ∫îËøîÂõûÂÄºÔºåÂ≠êÁªìÁÇπÁöÑÊØè‰∏ÄÂ±ûÊÄßÂØπÂ∫î‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáè
  - ÁøªËØëÊ®°Âºè‰∏≠‰∫ßÁîüÂºèÂè≥ÈÉ®ÁöÑÁªìÁªàÁ¨¶Âè∑„ÄÅÈùûÁªàÁªìÁ¨¶Âè∑‰∏éËØ≠‰πâÂä®‰ΩúÂàÜÂà´ÊâßË°åÂåπÈÖç„ÄÅÈÄíÂΩíË∞ÉÁî®ÂíåÂµåÂÖ•‰ª£Á†ÅÁ≠âÂä®‰Ωú

- ËøôÈáåÁöÑÂÖ∑‰ΩìÂÆûÁé∞Âíå‰∏äËø∞`proc`ËßÑÂàô‰∏ÄËá¥Ôºö

  - ÂàùÂßãÂåñ`g_proc`‰Ωú‰∏∫Â±ÄÈÉ®ÊµÅÂõæÔºåÂàùÂßãÂåñÂ±ÄÈÉ®Á¨¶Âè∑Ë°®
  
  - ÁªßÊâøÂ±ûÊÄß‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíË°®Á§∫Âú®ÂÖ®Â±ÄÊ®°ÂùóÊµÅÂõæ`g_mod`‰∏≠Ôºå‰∏∫ÂΩìÂâçËøáÁ®ãÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøáÁ®ãÊµÅÂõæ`g_proc`
  
  ```java
  /**
  * Ëß£ÊûêÂçï‰∏™ËøáÁ®ãÂ£∞Êòé„ÄÇ
  */
  private void proc_decl(flowchart.Module g_mod) throws IOException, OberonException {
      // ÈÄíÂΩí‰∏ãÈôçÂàÜÊûê proc_decl
  
  
      if (lookahead.equals(Keyword.symProcedure())) {
          // Â∫îÁî®‰∫ßÁîüÂºè eq1
  
          Env cur = env;
          env = new Env(env);
  
          _r_proc_head head = proc_head();
  
          match(Symbol.semicol(), Symbol.class);
  
          flowchart.Procedure g_proc = g_mod.add(head.id.getLexeme());
  
          proc_body(g_mod, g_proc, head.id);
  
          env = cur;
          try {
              env.putDecl(head.id.getLexeme(), head.decl);
          } catch (OberonException e)  {
              Declaration prevDecl = env.getDecl(head.id.getLexeme());
              throw new IdentifierAlreadyExists(head.id, prevDecl.getId());
          }
  
          // ÂàÜÊûêÁªìÊûúËøîÂõû proc_decl
      }
      else {
          throw new UnexpectedToken(Keyword.symProcedure(), lookahead);
      }
  }
  ```
  
  - Ë∞ÉÁî®`stat_block(g_proc::add)`Ë°®Á§∫Â∞ÜÊñ∞ÂàõÂª∫ÁöÑ`g_proc`ÁöÑ`add`ÊñπÊ≥ï‰º†ÈÄí‰∏ãÂéªÔºåÁ°Æ‰øùËØ•ËøáÁ®ã‰ΩìÂÜÖÁöÑËØ≠Âè•Ë¢´Ê≠£Á°ÆÂú∞Ê∑ªÂä†Âà∞Ëá™Â∑±ÁöÑÊµÅÂõæÔºåÂÖ∂‰∏≠addÊòØjavaÊèê‰æõÁöÑÊé•Âè£`interface`
  
  ```java
  /**
  * Ëß£ÊûêËøáÁ®ã‰Ωì„ÄÇ
  */
  private void proc_body(flowchart.Module g_mod, flowchart.Procedure g_proc, Identifier decl_id) throws IOException, OberonException {
      // ÈÄíÂΩí‰∏ãÈôçÂàÜÊûê proc_body
  
  
      if (
          lookahead.equals(Keyword.symConst()) ||
          lookahead.equals(Keyword.symType()) ||
          lookahead.equals(Keyword.symVar()) ||
          lookahead.equals(Keyword.symProcedure()) ||
          lookahead.equals(Keyword.symBegin()) ||
          lookahead.equals(Keyword.symEnd())
      ) {
          // Â∫îÁî®‰∫ßÁîüÂºè eq1
  
          decls(g_mod);
  
          stat_block(g_proc::add);
  
          match(Keyword.symEnd(), Keyword.class);
  
          Identifier id = match(new Identifier(), Identifier.class);
          if (!decl_id.getLexeme().toLowerCase().equals(id.getLexeme().toLowerCase())) {
              throw new MismatchedDeclaration("PROCEDURE", decl_id, id);
          }
  
          // ÂàÜÊûêÁªìÊûúËøîÂõû proc_body
      }
      else {
          throw new UnexpectedToken(new Token[] { Keyword.symConst(), Keyword.symType(), Keyword.symVar(), Keyword.symProcedure(), Keyword.symBegin(), Keyword.symEnd() }, lookahead);
      }
  }
  ```
  
  

### 4.2.3 ËØ≠‰πâÊ£ÄÊü•

- Áî±‰∫éÊú¨Ê¨°ÂÆûÈ™åÁöÑ‰∏ªË¶Å‰ªªÂä°ÊòØÁªòÂà∂ÊµÅÂõæÔºåÊâÄ‰ª•ÂÆûÈôÖ‰∏äËØ≠‰πâÂä®‰ΩúÁöÑÂÆûÁé∞Â∑≤ÁªèÂú®ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÁöÑËØ≠Ê≥ïÂàÜÊûêËøáÁ®ã‰∏≠Â∑≤ÁªèÂÆåÊàê‰∫Ü„ÄÅÂç≥Âú®ÂàÜÊûêÁöÑËøáÁ®ã‰∏≠ÂàíÂàÜÂü∫Êú¨ÂùóÂπ∂ÁªôÂá∫ÊµÅÂõæÔºåËøô‰∏éËøáÁ®ã„ÄÅÂàÜÊîØÁ≠âËØ≠Âè•ÊòØÁ¥ßÂØÜÁõ∏ÂÖ≥ÁöÑÔºåÊâÄ‰ª•ËØ≠‰πâÂàÜÊûêÂÆûÈôÖ‰∏äÂú®‰∏äÈù¢Â∑≤ÁªèËøë‰πéÂÆåÂ§á‰∫Ü

- ‰∏∫‰∫ÜÂà©Áî®‰∏äÈù¢Â∑≤ÁªèÁªôÂá∫ÁöÑÂêÑÁßçÂºÇÂ∏∏ÂíåÁ±ªÂûãÂåπÈÖçËßÑÂàôÔºåËøôÈáåÁöÑËØ≠‰πâÂàÜÊûê‰ªÖÁî®‰ΩúÁ±ªÂûãÂåπÈÖç„ÄÅÂèÇÊï∞ÂåπÈÖçÁ≠âËØ≠‰πâÊ£ÄÊü•

- ÊØîÂ¶Ç`or`ÁöÑÊìç‰ΩúÊï∞ÂøÖÈ°ªÊòØ`BooleanType`ÔºåËã•‰∏çÁ¨¶ÂêàÂàôÊäõÂá∫ÂºÇÂ∏∏

  ```java
  else if (lookahead.equals(Operator.or())) {
      // Â∫îÁî®‰∫ßÁîüÂºè eq3
  
      Operator op = match(Operator.or(), Operator.class);
  
      _r_term t = term();
  
      if (!(l_type instanceof BooleanType) || !(t.type instanceof BooleanType)) {
          throw new UnexpectedType(op, new BooleanType(), new BooleanType(), l_type, t.type);
      }
  
      Type post_l_type = new BooleanType();
      String post_l_text = l_text + " OR " + t.text;
  
      _r_post_term postTerm = post_term(post_l_type, post_l_text);
  
      // ÂàÜÊûêÁªìÊûúËøîÂõû post_term
      return new _r_post_term(postTerm.type, postTerm.text);
  }
  ```




### 4.2.3 ËøêË°åÊµãËØï

#### 4.2.3.0 Ê≠£Á°ÆÁâàÊú¨

![image-20250629231040255](./scheme.assets/image-20250629231040255.png)

![image-20250629231106642](./scheme.assets/image-20250629231106642.png)

ÂàÜËß£Ë¥®Âõ†Êï∞ÁöÑÂáΩÊï∞ÊµÅÂõæÂ§™Â§ß‰∫ÜÔºå‰∏äÈù¢Âè™Êúâstart„ÄÅ‰∏ãÈù¢Âè™ÊúâendË¢´Ë¶ÜÁõñ‰∫Ü

![image-20250629231131708](./scheme.assets/image-20250629231131708.png)



#### 4.2.3.1 ÂèòÂºÇÁâàÊú¨

Áî±‰∫éÂÆûÈ™åË¶ÅÊ±ÇÊ≤°ÊúâË¶ÅÊ±ÇÔºåËøôÈáåÂ∞±‰∏ç‰∏Ä‰∏ÄÂ±ïÁ§∫‰∫ÜÔºå‰ΩÜÊòØÂâçËø∞ÁöÑÂêÑÁßçÂºÇÂ∏∏‰πüËÉΩË¢´Ê≠£Á°ÆÊäõÂá∫

![image-20250629233735714](./scheme.assets/image-20250629233735714.png)

![image-20250629233746081](./scheme.assets/image-20250629233746081.png)

## 4.3 **ËØ≠Ê≥ïÂàÜÊûêËÆ®ËÆ∫**

### 4.3.1 ÂàÜÊûêÊäÄÊúØÁöÑÁÆÄÂçïÊÄß„ÄÅË∞ÉËØï‰æøÂà©ÊÄß

#### 4.3.1.1 ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê

##### 4.3.1.1.1 ‰ºòÁÇπ

- ÈÄíÂΩí‰∏ãÈôçÊ≥ïÊõ¥Âä†ÁÆÄÂçïÔºåÂõ†‰∏∫ÂÖ∂Ê†∏ÂøÉÊÄùÊÉ≥ÈùûÂ∏∏Áõ¥ËßÇÔºåÂç≥‰∏∫ÊØè‰∏™ÈùûÁªàÁªìÁ¨¶ÁºñÂÜô‰∏Ä‰∏™ÂØπÂ∫îÁöÑÂàÜÊûêÂáΩÊï∞
- ÈÄíÂΩí‰∏ãÈôçÊ≥ïÊï¥‰∏™ÂàÜÊûêÁ®ãÂ∫èÂ∞±ÊòØËøô‰∫õÂáΩÊï∞‰πãÈó¥ÁöÑÁõ∏‰∫íË∞ÉÁî®ÔºåÂÖ∂ÁªìÊûÑ‰∏éËØ≠Ë®ÄÁöÑBNFËåÉÂºèÈ´òÂ∫¶ÂêåÊûÑ
- ÈÄíÂΩí‰∏ãÈôçÊ≥ïËøôÁßçÁõ¥Êé•ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª‰ΩøÂæó‰ª£Á†ÅÂÆπÊòìÁêÜËß£ÂíåÁª¥Êä§Ôºå‰πüÈùûÂ∏∏ÂÆπÊòìË∞ÉËØï
- ÂÆûÈôÖÂÆûÈ™åËøáÁ®ã‰∏≠ÔºåÈÄíÂΩí‰∏ãÈôçÊ≥ïË∞ÉËØïËøáÁ®ãÈùûÂ∏∏ËΩªÊùæÔºåÂõ†‰∏∫ÂèØ‰ª•Âú®ÂÖ≥ÈîÆÂáΩÊï∞Â§ÑËÆæÁΩÆÊñ≠ÁÇπÔºåÊü•ÁúãË∞ÉÁî®Ê†àÔºåË∑üË∏™Á®ãÂ∫èÁöÑÊâßË°åÊµÅÁ®ãÔºå‰ªéËÄåÂø´ÈÄüÂÆö‰ΩçËØ≠Ê≥ïÂåπÈÖçÈîôËØØÔºåÂ§ßÈÉ®ÂàÜIDE‰πüËÉΩÊ≠£Á°ÆÊäõÂá∫ÂºÇÂ∏∏ÂÆö‰Ωç

##### 4.3.1.1.2 Áº∫ÁÇπ

- ÈÄíÂΩí‰∏ãÈôçÊ≥ïÁÆÄÂçïÊÄßÊù•Ëá™‰∫éÂú®ÊîπÈÄ†ÊñáÊ≥ïÊó∂ÁöÑÂêÑÁßçËßÑËåÉÂíåÈôêÂà∂ÔºåÂç≥Ë¶ÅÊ±ÇÊñáÊ≥ïÂøÖÈ°ªÊòØLL(1)ÁöÑ
- ÈÄíÂΩí‰∏ãÈôçÊ≥ïÊîπÈÄ†ËøáÁ®ã‰∏≠ÊúÄÂ§çÊùÇÁöÑÈÉ®ÂàÜÊòØÊ∂àÈô§Â∑¶ÈÄíÂΩíÂíåÊèêÂèñÂ∑¶ÂÖ¨Âõ†Â≠êÔºåËøô‰∏™ËøáÁ®ãÊú¨Ë∫´ÂÆπÊòìÂá∫ÈîôÔºå‰∏î‰øÆÊîπÂêéÁöÑÊñáÊ≥ïÂèØËØªÊÄß‰ºöÂèòÂæóËæÉÂ∑Æ„ÄÅËØ≠‰πâËßÑÂàôÁöÑÊûÑÈÄ†‰πüÂ∞±ÂèòÂæóÊõ¥Âä†Â§çÊùÇ

#### 4.3.1.2 LRÂàÜÊûê

##### ‰ºòÁÇπ

- LRÂàÜÊûêÁöÑÂàÜÊûêÁÆóÊ≥ïÂíåÈ©±Âä®Ë°®Á≠âÂÖ∑‰ΩìÂÆûÁé∞ÈÉΩÊòØÊ†áÂáÜÂåñÁöÑÔºåÈÄöÂ∏∏‰∏çÈúÄË¶ÅÊâãÂä®ÁºñÂÜôÔºåËÄåÊòØ‰ΩøÁî®ÂâçÂá†‰∏™ÂÆûÈ™åÁªôÂá∫ÁöÑYacc„ÄÅBison„ÄÅCUPÁ≠âÂ∑•ÂÖ∑Ëá™Âä®ÁîüÊàêÔºåÂÆûÈôÖÁºñÂÜôËøáÁ®ã‰∏≠‰πüÊØîËæÉÁÆÄÂçï
- LRÂàÜÊûêËÉΩÂäõÊØîLLÊõ¥Âº∫ÔºåËøô‰πüÂ∞±ÊÑèÂë≥ÁùÄÊñáÊ≥ïÈúÄË¶ÅÁöÑË∞ÉÊï¥Êõ¥Â∞èÔºåËÄåÊõ¥Áõ¥ËßÇ„ÄÅÊõ¥ÁÆÄÂçïÁöÑÊñáÊ≥ïÂú®ËØ≠Ê≥ïÂàÜÊûê„ÄÅËØ≠‰πâÂàÜÊûêÁöÑËÆæËÆ°‰∏≠‰ºöÊõ¥Âä†ÁÆÄÂçï

##### Áº∫ÁÇπ

- LRÂàÜÊûêÂô®ÁöÑÂÜÖÈÉ®Â∑•‰ΩúÊú∫Âà∂ÈùûÂ∏∏ÊäΩË±°ÂíåÂ§çÊùÇÔºåÂÆÉÂü∫‰∫é‰∏Ä‰∏™‰∏ãÊé®Ëá™Âä®Êú∫ÁöÑÁä∂ÊÄÅËΩ¨Êç¢ÔºåÂØπ‰∫é‰∏Ä‰∏™ÈîôËØØÂæÄÂæÄÂæàÈöæÁõ¥ËßÇÂú∞ÁúãÊä•ÂëäÈîôËØØÂÆö‰Ωç
- LRÂàÜÊûêÂØπÂ∫îÁöÑÂ∑•ÂÖ∑ÂåÖÂê´Áä∂ÊÄÅÊú∫Êä•Âëä„ÄÅÊØîÂ¶Ç`.cup`Êñá‰ª∂ÁîüÊàêÁöÑ`parser.out`Ôºå‰ΩÜÊòØËøòÊòØÈúÄË¶ÅÁêÜËß£È°πÈõÜ„ÄÅÈó≠ÂåÖÂíåÁä∂ÊÄÅËΩ¨Êç¢ÔºåÊâçËÉΩÊ≠£Á°ÆÁöÑËß£ÂÜ≥ÊñáÊ≥ïÂÜ≤Á™Å
- LRÂàÜÊûêË∞ÉËØïËøêË°åÊó∂ÈîôËØØ‰πüÊûÅ‰∏∫Âõ∞ÈöæÔºåÂõ†‰∏∫Ë∞ÉËØïÂô®Â±ïÁ§∫ÁöÑÊòØ‰∏Ä‰∏™‰∏çÊñ≠ÂèòÂåñÁöÑÁä∂ÊÄÅÊ†àÂíåËæìÂÖ•ÊµÅÔºåËÄå‰∏çÊòØÁõ¥ËßÇÁöÑÂáΩÊï∞Ë∞ÉÁî®

### 4.3.2 ÂàÜÊûêÊäÄÊúØÁöÑÈÄöÁî®ÊÄß„ÄÅËÉΩÂ§ÑÁêÜÁöÑËØ≠Ë®ÄËåÉÂõ¥

#### 4.3.2.1 ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê

##### Áº∫ÁÇπ

- ÈÄíÂΩí‰∏ãÈôçÈÄöÁî®ÊÄßËæÉÂ∑ÆÔºåÊ†áÂáÜÁöÑÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûêÂô®Âè™ËÉΩÂ§ÑÁêÜLL(1) ÊñáÊ≥ïÔºåËøôÊòØ‰∏Ä‰∏™Áõ∏ÂØπ‰∏•Ê†ºÁöÑÊñáÊ≥ïÔºåÊòØÂ§ßÈÉ®ÂàÜÂ∏∏ËßÅÊñáÊ≥ïÁöÑÁúüÂ≠êÈõÜ
- ÈÄíÂΩí‰∏ãÈôçÈÉΩÊó†Ê≥ïÁõ¥Êé•Â§ÑÁêÜÂ∑¶ÈÄíÂΩíÔºåÂøÖÈ°ªËøõË°åÊîπÈÄ†ÔºåËøôÂåÖÊã¨ËÆ∏Â§öÂú®Á®ãÂ∫èËÆæËÆ°ËØ≠Ë®Ä‰∏≠ÈùûÂ∏∏Ëá™ÁÑ∂ÁöÑËØ≠Ê≥ïÁªìÊûÑÔºåÂ¶ÇÂ∑¶ÈÄíÂΩíÁöÑË°®ËææÂºè`expr -> expr + term`

#### 4.3.2.2 LRÂàÜÊûê

##### ‰ºòÁÇπ

- LRÂàÜÊûêÈÄöÁî®ÊÄßÊûÅÂº∫ÔºåËÉΩÂ§üÂ§ÑÁêÜÊØî LL(1) Â§ßÂæóÂ§öÁöÑÊñáÊ≥ïÁ±ªÔºåÂá†‰πéÊâÄÊúâÊó†‰∫å‰πâÁöÑ‰∏ä‰∏ãÊñáÊó†ÂÖ≥ÊñáÊ≥ïÈÉΩÂèØ‰ª•Áî®LR(1)Êù•ÂàÜÊûê
- ÂÆûË∑µ‰∏≠Â∏∏Áî®ÁöÑ LALR(1)ËôΩÁÑ∂ÊØî LR(1) Á®çÂº±Ôºå‰ΩÜ‰ªçËÉΩË¶ÜÁõñÁªùÂ§ßÂ§öÊï∞Á®ãÂ∫èËÆæËÆ°ËØ≠Ë®ÄÁöÑËØ≠Ê≥ïÁªìÊûÑ
- LRÂàÜÊûêÂèØ‰ª•Áõ¥Êé•Â§ÑÁêÜÂ∑¶ÈÄíÂΩíÔºåËøôÂú®ÂÆö‰πâË°®ËææÂºè„ÄÅÂàóË°®Á≠âËØ≠Ê≥ïÊó∂ÈùûÂ∏∏Êñπ‰æø

### 4.3.3 ËØ≠‰πâÂä®‰Ωú‰∏éËØ≠Ê≥ïÂà∂ÂØºÁøªËØëÁöÑ‰æøÂà©ÊÄß

#### 4.3.3.1 **ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê**:

##### ‰ºòÁÇπ

- ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂµåÂÖ•ËØ≠‰πâÂä®‰ΩúÈùûÂ∏∏ÁÅµÊ¥ªÔºåÊú¨Ë¥®‰∏äÂàÜÊûêÂô®Â∞±ÊòØÁ®ãÂ∫èÂëòÊâãÂÜôÁöÑ‰ª£Á†ÅÔºåÊâÄ‰ª•ÂèØ‰ª•Âú®ÂàÜÊûêÂáΩÊï∞ÁöÑ‰ªª‰Ωï‰ΩçÁΩÆÊèíÂÖ•‰ªªÊÑèÁöÑËØ≠‰πâÂä®‰Ωú
- ÈÄíÂΩí‰∏ãÈôçÂèØ‰ª•‰æøÂà©Âú∞Â§ÑÁêÜÈúÄË¶ÅÂú®ËßÑÂàô‰∏≠Èó¥ÊâßË°åÁöÑÂä®‰Ωú

#### 4.3.3.2 LRÂàÜÊûê

##### ‰ºòÁÇπ

- LRÂàÜÊûêÁöÑËØ≠‰πâÂä®‰ΩúÁöÑÂµåÂÖ•‰ΩçÁΩÆÂè™ËÉΩÈôÑÂä†Âú®‰∫ßÁîüÂºèÁöÑÊú´Â∞æÂΩìÂàÜÊûêÂô®ÂÆåÊàê‰∏ÄÊ¨°ÂΩíÁ∫¶Êìç‰ΩúÊó∂ÔºåÁõ∏Â∫îÁöÑÂä®‰ΩúÊâçË¢´ÊâßË°å
- LR‰πüÂèØ‰ª•ÈÄöËøáÂ§ÑÁêÜÂµåÂÖ•Âú®‰∫ßÁîüÂºè‰∏≠Èó¥ÁöÑËØ≠‰πâÂä®‰ΩúÔºåÂç≥‰ΩøÁî®markerÊú∫Âà∂
- ‰∏äËø∞ËøôÁßçÊñπÂºèÈùûÂ∏∏ËßÑÊï¥Ôºå‰ΩøÂæóËØ≠Ê≥ïÂíåËØ≠‰πâÁöÑËÄ¶ÂêàÊõ¥Âä†Ê∏ÖÊô∞Ôºå‰æø‰∫éÁºñÂÜôËØ≠‰πâÂä®‰Ωú

##### Áº∫ÁÇπ

- LRÂàÜÊûêÁöÑËØ≠‰πâÂä®‰ΩúÁöÑÂµåÂÖ•‰ΩçÁΩÆÂè™ËÉΩÈôÑÂä†Âú®‰∫ßÁîüÂºèÁöÑÊú´Â∞æÂΩìÂàÜÊûêÂô®ÂÆåÊàê‰∏ÄÊ¨°ÂΩíÁ∫¶Êìç‰ΩúÊó∂ÔºåÁõ∏Â∫îÁöÑÂä®‰ΩúÊâçË¢´ÊâßË°å
- LRÂàÜÊûêÁöÑËØ≠‰πâÂä®‰Ωú‰πüÊòØÈ´òÂ∫¶ÂèóÈôêÁöÑÔºåÂú®Â§ÑÁêÜÁªßÊâøÂ±ûÊÄßÁõ∏ÂÖ≥Á≠âÂµåÂÖ•Âú®‰∫ßÁîüÂºèÂÜÖÈÉ®ÁöÑËØ≠‰πâÂä®‰ΩúÊó∂ÊØîËæÉÂèóÈôê
- LRÂàÜÊûê‰ΩøÁî®markerÊñπÊ≥ï‰ºöÂØºËá¥ÊñáÊ≥ïÂèòÂæóÂ§çÊùÇÔºåÂú®ËØ≠‰πâËÆæËÆ°‰∏ä‰πü‰ºöÊõ¥Âä†ÊäΩË±°

### 4.3.4 Âá∫ÈîôÊÅ¢Â§çÁöÑÂÆûÁé∞ÈöæÊòìÂ∫¶

#### 4.3.4.1**ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê**:

##### Áº∫ÁÇπ

- ÈÄíÂΩí‰∏ãÈôçÂàÜÊûêÂÆûÁé∞È´òË¥®ÈáèÁöÑÂá∫ÈîôÊÅ¢Â§çÊØîËæÉÂõ∞ÈöæÔºåÈÄöÂ∏∏ÊòØÂêØÂèëÂºèÂíåÁâπËÆæÁöÑ
- ÈÄíÂΩí‰∏ãÈôçÂàÜÊûêÂèØ‰ª•ËÄÉËôëÂÆûÁé∞ÊÅêÊÖåÊ®°ÂºèÔºåÂΩìÂú®Êüê‰∏™ÂàÜÊûêÂáΩÊï∞‰∏≠ÂèëÁé∞‰∏çÂåπÈÖçÁöÑËÆ∞Âè∑Êó∂ÔºåÂ∞±ÂêëÂâçÊâ´ÊèèËæìÂÖ•ÊµÅÔºåÁõ¥Âà∞ÊâæÂà∞‰∏Ä‰∏™Áî±ËØ•ÂáΩÊï∞ÊâÄËÉΩÂ§ÑÁêÜÁöÑÂêåÊ≠•ËÆ∞Âè∑synÔºåÁÑ∂ÂêéÁªßÁª≠ÂàÜÊûê
- ÈÄíÂΩí‰∏ãÈôçÂàÜÊûêËÆæËÆ°ÂÆåÂ§áÁöÑÂêåÊ≠•ËÆ∞Âè∑ÈõÜÈúÄË¶ÅÂØπËØ≠Ë®ÄÊúâÊ∑±ÂÖ•ÁöÑÁêÜËß£ÔºåÁõ∏ÂØπÊäΩË±°ÂíåÂ§çÊùÇ

#### 4.3.4.2 **LR ÂàÜÊûê**:

##### ‰ºòÁÇπ

- LRÂàÜÊûêËôΩÁÑ∂ÂêåÊ†∑Â§çÊùÇÔºå‰ΩÜÂÖ∂Ê°ÜÊû∂‰∏∫Á≥ªÁªüÂåñÁöÑÂá∫ÈîôÊÅ¢Â§çÊèê‰æõ‰∫ÜÊõ¥Â•ΩÁöÑÊîØÊåÅÔºåÂØπÊØèÊ¨°ÂΩíÁ∫¶ÈÉΩÊòØÂØπÂè•ÊüÑÂ±ÄÈÉ®ËøõË°åÊìç‰Ωú„ÄÅÊ≠§Êó∂ËøõË°åÈîôËØØÂà§Êñ≠ÂíåÂá∫ÈîôÊÅ¢Â§çË¶ÅÁÆÄÂçï‰∏Ä‰∫õ
- LRÂàÜÊûêÊúâËâØÂ•ΩÁöÑÁîüÊÄÅÊîØÊåÅÔºåÂÉèYacc/BisonËøôÊ†∑ÁöÑÂ∑•ÂÖ∑Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁâπÊÆäÁöÑ`error`ÁªàÁªìÁ¨¶ÔºåÁ®ãÂ∫èÂëòÂèØ‰ª•Âú®ÊñáÊ≥ï‰∏≠ÊòéÁ°ÆÂú∞ÁºñÂÜôÂåÖÂê´`error`ÁöÑ‰∫ßÁîüÂºèÔºåÊù•ÂÆö‰πâÂΩìÈîôËØØÂèëÁîüÊó∂ÔºåÂàÜÊûêÂô®Â∫îËØ•Â¶Ç‰ΩïË∑≥ËΩ¨Áä∂ÊÄÅ„ÄÅ‰∏¢ÂºÉÂ§öÂ∞ëËÆ∞Âè∑ÔºåÂπ∂‰ªéÂì™‰∏™ËØ≠Ê≥ïÁªìÊûÑÂºÄÂßãÊÅ¢Â§çÂàÜÊûê
- LRÂàÜÊûêÊï¥‰Ωì‰∏äÂÆûÁé∞Êõ¥ÂÅ•Â£Æ„ÄÅÊõ¥ÂèØÈ¢ÑÊµãÔºåÂá∫ÈîôÊÅ¢Â§çÊõ¥‰∏∫ÁÆÄÂçï

### 4.3.5 ÂàÜÊûêË°®Â§ßÂ∞è

#### 4.3.5.1 **ÈÄíÂΩí‰∏ãÈôçÈ¢ÑÊµãÂàÜÊûê**:

##### ‰ºòÁÇπ

- ÈÄíÂΩí‰∏ãÈôçÂàÜÊûêÊòØÊâãÂä®ÁºñÂÜôÁöÑÈÄíÂΩíÁ®ãÂ∫èÔºåLL1ÂàÜÊûêÊ≥ïÊòØË°®Ê†ºÈ©±Âä®ÁöÑÊñπÂºèÂÆûÁé∞
- LL(1)ÂàÜÊûêË°®ÁöÑÂ§ßÂ∞è‰∏∫`|Vn| √ó |Vt|`ÈùûÁªàÁªìÁ¨¶Êï∞Èáè √ó ÁªàÁªìÁ¨¶Êï∞Èáè
- LL(1)ÂàÜÊûêË°®Â§ßÂ∞èÁõ∏ÂØπËæÉÂ∞èÔºå‰∏îË°®ÂÜÖÈÉ®‰∏ÄËà¨ÊØîËæÉÁ®ÄÁñè

#### 4.3.5.2 **LR ÂàÜÊûê**:

##### Áº∫ÁÇπ

- LRÂàÜÊûêË°®ÁöÑÂ§ßÂ∞è‰∏éÁä∂ÊÄÅÊï∞ÈáèÊàêÊ≠£ÊØîÔºåÁä∂ÊÄÅÊï∞ÈáèÂèØËÉΩÈùûÂ∏∏Â§ßÔºåÂØπ‰∫éÂ§çÊùÇÁöÑÊñáÊ≥ïÁä∂ÊÄÅÊï∞ÂèØËÉΩÈöæ‰ª•‰º∞Èáè
- LR(1)ÂàÜÊûêË°®ÂèØËÉΩÂåÖÂê´Êï∞ÂçÉ‰∏™Áä∂ÊÄÅÔºåÂç†Áî®Áõ∏ÂΩìÂ§ßÁöÑÁ©∫Èó¥
- LALR(1) ÈÄöËøáÂêàÂπ∂Áä∂ÊÄÅÔºåÊòæËëóÂáèÂ∞è‰∫ÜÂàÜÊûêË°®ÁöÑÂ§ßÂ∞èÔºå‰ΩÜÂÖ∂ÂàÜÊûêË°®ÈÄöÂ∏∏‰πüÊØîÂêåÁ≠âÊñáÊ≥ïÁöÑLL(1)Ë°®Ë¶ÅÂ§ßÂæóÂ§ö

### 4.3.6 ÂàÜÊûêÈÄüÂ∫¶

- LL(1)ÂíåLRÂàÜÊûêË°®Ê†ºÈ©±Âä®ÁöÑÂàÜÊûêÂô®ÈÉΩÈùûÂ∏∏È´òÊïàÔºåÊ†∏ÂøÉÊìç‰ΩúÈÉΩÊòØÊü•Ë°®ÂíåÊ†àÊìç‰ΩúÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏éËæìÂÖ•‰ª£Á†ÅÁöÑÈïøÂ∫¶ÊàêÁ∫øÊÄßÂÖ≥Á≥ª`O(n)`
- ÈÄíÂΩí‰∏ãÈôçÂàÜÊûêÂô®Áî±‰∫éÊâãÂÜôÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂºÄÈîÄÔºåÂèØËÉΩÊØîÈ´òÂ∫¶‰ºòÂåñÁöÑË°®Ê†ºÈ©±Âä®LRÂàÜÊûêÂô®ÊÖ¢ÔºåËøô‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂèñÂÜ≥‰∫éÁ®ãÂ∫èÂëòÁöÑ‰ª£Á†ÅÊ∞¥Âπ≥Ôºå‰ΩÜÊï¥‰Ωì‰∏äÂå∫Âà´Â∫îËØ•ÊòØÂæÆ‰πéÂÖ∂ÂæÆÁöÑ
